{"time":"2025-08-25T12:41:40.874562376Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":82},"msg":"Stopping services"}
{"time":"2025-08-25T12:41:40.874896989Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func5","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":103},"msg":"Shutting down server..."}
{"time":"2025-08-25T12:41:40.874988682Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func2","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":75},"msg":"Server started","port":"8081"}
{"time":"2025-08-25T12:41:40.875026585Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func5","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":109},"msg":"Server stopped"}
{"time":"2025-08-25T12:41:40.875151682Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":121},"msg":"All services correctly stopped"}
{"time":"2025-08-25T12:41:42.18652658Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).Connect","file":"/go/internal/repository/postgres/postgres.go","line":30},"msg":"Connecting to database","host":"db","port":"5432","database":"wbTechSchool","user":"wbuser","timeout":5000000000,"retries":5}
{"time":"2025-08-25T12:41:42.191548843Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/go/internal/repository/redisCache/redis.go","line":33},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-25T12:41:42.192552109Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/go/internal/repository/redisCache/redis.go","line":39},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-25T12:41:42.192583981Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.NewCachedRepo","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":32},"msg":"initializing cached repo","warmUp":true,"capacity":100}
{"time":"2025-08-25T12:41:42.192740664Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.NewCachedRepo","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":35},"msg":"cache repo count","count":100}
{"time":"2025-08-25T12:41:42.192771005Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.NewCachedRepo","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":49},"msg":"cache initialized"}
{"time":"2025-08-25T13:10:53.485502337Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":82},"msg":"Stopping services"}
{"time":"2025-08-25T13:10:53.485722049Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func5","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":103},"msg":"Shutting down server..."}
{"time":"2025-08-25T13:10:53.485799477Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func2","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":75},"msg":"Server started","port":"8081"}
{"time":"2025-08-25T13:10:53.485833286Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func5","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":109},"msg":"Server stopped"}
{"time":"2025-08-25T13:10:53.485878715Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":121},"msg":"All services correctly stopped"}
{"time":"2025-08-25T13:10:54.720082853Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).Connect","file":"/go/internal/repository/postgres/postgres.go","line":30},"msg":"Connecting to database","host":"db","port":"5432","database":"wbTechSchool","user":"wbuser","timeout":5000000000,"retries":5}
{"time":"2025-08-25T13:10:54.725995367Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/go/internal/repository/redisCache/redis.go","line":33},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-25T13:10:54.727126404Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/go/internal/repository/redisCache/redis.go","line":39},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-25T13:10:54.727157927Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.NewCachedRepo","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":32},"msg":"initializing cached repo","warmUp":true,"capacity":100}
{"time":"2025-08-25T13:10:54.727300878Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.NewCachedRepo","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":35},"msg":"cache repo count","count":100}
{"time":"2025-08-25T13:10:54.727326783Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.NewCachedRepo","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":49},"msg":"cache initialized"}
{"time":"2025-08-25T13:11:27.002684902Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/go/internal/repository/redisCache/redis.go","line":51},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-25T13:11:27.004139802Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":60},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-25T13:11:27.004203697Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":62},"msg":"order found in cache"}
{"time":"2025-08-25T13:11:27.004215504Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/http.(*OrderHandler).GetOrderByUID","file":"/go/internal/delivery/http/httpHandler.go","line":79},"msg":"Order retrieved","order_uid":"00000000000000000001","duration":1548408}
{"time":"2025-08-25T13:11:39.410945598Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/go/internal/repository/redisCache/redis.go","line":51},"msg":"Getting order from Redis","orderUID":"00000000000000000444"}
{"time":"2025-08-25T13:11:39.411270606Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/go/internal/repository/redisCache/redis.go","line":55},"msg":"Order not found","orderUID":"00000000000000000444"}
{"time":"2025-08-25T13:11:39.41131997Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":60},"msg":"attempting to get order from cache","orderUID":"00000000000000000444"}
{"time":"2025-08-25T13:11:39.411329196Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":69},"msg":"order not found in cache, querying database","orderUID":"00000000000000000444"}
{"time":"2025-08-25T13:11:39.411337281Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/go/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000444","query_type":"read"}
{"time":"2025-08-25T13:11:39.411395967Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/go/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000444","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-25T13:11:39.416803728Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/go/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000444","error":"not_found","query_time_ms":5}
{"time":"2025-08-25T13:11:39.416855375Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":73},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-25T13:11:39.416864602Z","level":"ERROR","source":{"function":"wb_l0/internal/delivery/http.(*OrderHandler).GetOrderByUID","file":"/go/internal/delivery/http/httpHandler.go","line":60},"msg":"Order not found","orderUID":"00000000000000000444"}
{"time":"2025-08-25T13:13:00.641268979Z","level":"ERROR","source":{"function":"wb_l0/internal/delivery/http.(*OrderHandler).GetOrderByUID","file":"/go/internal/delivery/http/httpHandler.go","line":49},"msg":"Order_uid is invalid"}
{"time":"2025-08-25T13:14:00.525674848Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":82},"msg":"Stopping services"}
{"time":"2025-08-25T13:14:00.525847209Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func5","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":103},"msg":"Shutting down server..."}
{"time":"2025-08-25T13:14:00.525931438Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func2","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":75},"msg":"Server started","port":"8081"}
{"time":"2025-08-25T13:14:00.525985783Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func5","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":109},"msg":"Server stopped"}
{"time":"2025-08-25T13:14:00.526125975Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":121},"msg":"All services correctly stopped"}
{"time":"2025-08-25T13:14:01.835992027Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).Connect","file":"/go/internal/repository/postgres/postgres.go","line":30},"msg":"Connecting to database","host":"db","port":"5432","database":"wbTechSchool","user":"wbuser","timeout":5000000000,"retries":5}
{"time":"2025-08-25T13:14:01.842119844Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/go/internal/repository/redisCache/redis.go","line":33},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-25T13:14:01.843315712Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/go/internal/repository/redisCache/redis.go","line":39},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-25T13:14:01.843362919Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.NewCachedRepo","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":32},"msg":"initializing cached repo","warmUp":true,"capacity":100}
{"time":"2025-08-25T13:14:01.843493403Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.NewCachedRepo","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":35},"msg":"cache repo count","count":100}
{"time":"2025-08-25T13:14:01.843526143Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.NewCachedRepo","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":49},"msg":"cache initialized"}
{"time":"2025-08-25T13:14:04.452654479Z","level":"ERROR","source":{"function":"wb_l0/internal/delivery/http.(*OrderHandler).GetOrderByUID","file":"/go/internal/delivery/http/httpHandler.go","line":50},"msg":"Order_uid is invalid"}
{"time":"2025-08-25T13:14:05.838666962Z","level":"ERROR","source":{"function":"wb_l0/internal/delivery/http.(*OrderHandler).GetOrderByUID","file":"/go/internal/delivery/http/httpHandler.go","line":50},"msg":"Order_uid is invalid"}
{"time":"2025-08-25T13:14:49.789249492Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":82},"msg":"Stopping services"}
{"time":"2025-08-25T13:14:49.78942143Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func5","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":103},"msg":"Shutting down server..."}
{"time":"2025-08-25T13:14:49.789491479Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func2","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":75},"msg":"Server started","port":"8081"}
{"time":"2025-08-25T13:14:49.789537291Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func5","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":109},"msg":"Server stopped"}
{"time":"2025-08-25T13:14:49.789705142Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":121},"msg":"All services correctly stopped"}
{"time":"2025-08-25T13:14:51.161732378Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).Connect","file":"/go/internal/repository/postgres/postgres.go","line":30},"msg":"Connecting to database","host":"db","port":"5432","database":"wbTechSchool","user":"wbuser","timeout":5000000000,"retries":5}
{"time":"2025-08-25T13:14:51.169694279Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/go/internal/repository/redisCache/redis.go","line":33},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-25T13:14:51.171178421Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/go/internal/repository/redisCache/redis.go","line":39},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-25T13:14:51.171255884Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.NewCachedRepo","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":32},"msg":"initializing cached repo","warmUp":true,"capacity":100}
{"time":"2025-08-25T13:14:51.171408432Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.NewCachedRepo","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":35},"msg":"cache repo count","count":100}
{"time":"2025-08-25T13:14:51.171444455Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.NewCachedRepo","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":49},"msg":"cache initialized"}
