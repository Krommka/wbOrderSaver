{"time":"2025-08-22T14:56:07.567873213+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/home/lucilaga/wb_l0/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T14:56:18.306305582+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/home/lucilaga/wb_l0/internal/repository/redisCache/redis.go","line":35},"msg":"Redis connection failed","error":"dial tcp: lookup redis: i/o timeout","host":"redis:6379"}
{"time":"2025-08-22T14:56:18.389728081+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T14:56:18.391348244+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T14:56:18.443232732+03:00","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":54}
{"time":"2025-08-22T14:56:18.443318159+03:00","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T14:59:10.308696699+03:00","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T14:59:10.309181269+03:00","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T14:59:10.31164761+03:00","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T15:00:18.34605191+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/home/lucilaga/wb_l0/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T15:40:35.663219381+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/home/lucilaga/wb_l0/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T15:40:45.670962414+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/home/lucilaga/wb_l0/internal/repository/redisCache/redis.go","line":35},"msg":"Redis connection failed","error":"dial tcp: lookup redis: i/o timeout","host":"redis:6379"}
{"time":"2025-08-22T15:40:45.699950101+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T15:40:45.700364183+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T15:40:45.712959284+03:00","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":13}
{"time":"2025-08-22T15:40:45.713060991+03:00","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T15:41:01.833357384+03:00","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T15:41:01.833806165+03:00","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T15:41:01.834085925+03:00","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T15:41:24.876909619+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/home/lucilaga/wb_l0/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T15:41:35.975719407+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/home/lucilaga/wb_l0/internal/repository/redisCache/redis.go","line":35},"msg":"Redis connection failed","error":"dial tcp: lookup redis: i/o timeout","host":"redis:6379"}
{"time":"2025-08-22T15:41:36.007393192+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T15:41:36.008041835+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T15:41:36.018544181+03:00","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":12}
{"time":"2025-08-22T15:41:36.018631422+03:00","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T15:46:45.480607082+03:00","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T15:46:45.48104273+03:00","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T15:46:45.481146934+03:00","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T15:46:53.017830785+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/home/lucilaga/wb_l0/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T15:47:04.244746693+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/home/lucilaga/wb_l0/internal/repository/redisCache/redis.go","line":35},"msg":"Redis connection failed","error":"dial tcp: lookup redis: i/o timeout","host":"redis:6379"}
{"time":"2025-08-22T15:47:04.277414856+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T15:47:04.278370068+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T15:47:04.286982511+03:00","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":10}
{"time":"2025-08-22T15:47:04.28706206+03:00","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T15:47:43.573031119+03:00","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T15:47:43.573396278+03:00","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T15:47:43.57443457+03:00","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T15:47:46.716505787+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/home/lucilaga/wb_l0/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T15:47:56.722330138+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/home/lucilaga/wb_l0/internal/repository/redisCache/redis.go","line":35},"msg":"Redis connection failed","error":"dial tcp: lookup redis: i/o timeout","host":"redis:6379"}
{"time":"2025-08-22T15:47:56.754249909+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T15:47:56.755096752+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T15:47:56.761481912+03:00","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":7}
{"time":"2025-08-22T15:47:56.761609618+03:00","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T15:47:59.93685532+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":0,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:47:59.937616066+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000003","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:47:59.938830051+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000003"}
{"time":"2025-08-22T15:47:59.938931011+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000003","items_count":1}
{"time":"2025-08-22T15:47:59.95299286+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000003","table":"orders"}
{"time":"2025-08-22T15:47:59.96311793+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000003","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:47:59.965092845+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":1,"retry_count":3,"order_uid":"00000000000000000003"}
{"time":"2025-08-22T15:48:00.965868531+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000003","items_count":1}
{"time":"2025-08-22T15:48:00.968767998+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000003","table":"orders"}
{"time":"2025-08-22T15:48:00.970950792+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000003","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:48:00.971277882+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":2,"retry_count":3,"order_uid":"00000000000000000003"}
{"time":"2025-08-22T15:48:02.972083836+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000003","items_count":1}
{"time":"2025-08-22T15:48:02.974765671+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000003","table":"orders"}
{"time":"2025-08-22T15:48:02.976626973+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000003","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:48:02.977055799+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":3,"retry_count":3,"order_uid":"00000000000000000003"}
{"time":"2025-08-22T15:48:06.979003392+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000003","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","error_type":"business"}
{"time":"2025-08-22T15:48:06.979150578+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000003","error_type":"transport","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","topic":"Orders","partition":0,"offset":0,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:48:06.979276582+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":1,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:48:06.979346083+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000004","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:48:06.979455465+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000004"}
{"time":"2025-08-22T15:48:06.979490603+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000004","items_count":1}
{"time":"2025-08-22T15:48:06.98262195+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000004","table":"orders"}
{"time":"2025-08-22T15:48:06.984732498+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000004","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:48:06.985232758+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":1,"retry_count":3,"order_uid":"00000000000000000004"}
{"time":"2025-08-22T15:48:07.986020345+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000004","items_count":1}
{"time":"2025-08-22T15:48:07.988813495+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000004","table":"orders"}
{"time":"2025-08-22T15:48:07.990279878+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000004","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:48:07.990627614+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":2,"retry_count":3,"order_uid":"00000000000000000004"}
{"time":"2025-08-22T15:48:11.147708451+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000004","items_count":1}
{"time":"2025-08-22T15:48:11.150710952+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000004","table":"orders"}
{"time":"2025-08-22T15:48:11.152764698+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000004","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:48:11.153571056+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":3,"retry_count":3,"order_uid":"00000000000000000004"}
{"time":"2025-08-22T15:48:15.156355896+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000004","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","error_type":"business"}
{"time":"2025-08-22T15:48:15.156449687+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000004","error_type":"transport","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","topic":"Orders","partition":0,"offset":1,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:48:15.156563452+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":2,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:48:15.156636009+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000009","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:48:15.15681526+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000009"}
{"time":"2025-08-22T15:48:15.156864968+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000009","items_count":1}
{"time":"2025-08-22T15:48:15.159498566+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000009","table":"orders"}
{"time":"2025-08-22T15:48:15.160846774+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000009","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:48:15.161160098+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":1,"retry_count":3,"order_uid":"00000000000000000009"}
{"time":"2025-08-22T15:48:16.162275546+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000009","items_count":1}
{"time":"2025-08-22T15:48:16.164533653+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000009","table":"orders"}
{"time":"2025-08-22T15:48:16.165968777+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000009","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:48:16.166239137+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":2,"retry_count":3,"order_uid":"00000000000000000009"}
{"time":"2025-08-22T15:48:18.166880589+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000009","items_count":1}
{"time":"2025-08-22T15:48:18.168976768+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000009","table":"orders"}
{"time":"2025-08-22T15:48:18.170342944+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000009","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:48:18.170703705+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":3,"retry_count":3,"order_uid":"00000000000000000009"}
{"time":"2025-08-22T15:48:22.173418662+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000009","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","error_type":"business"}
{"time":"2025-08-22T15:48:22.173529042+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000009","error_type":"transport","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","topic":"Orders","partition":0,"offset":2,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:48:22.173636038+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":3,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:48:22.173719342+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"0000000000000000000c","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:48:22.173809512+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"0000000000000000000c"}
{"time":"2025-08-22T15:48:22.173824909+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000c","items_count":1}
{"time":"2025-08-22T15:48:22.176140784+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000c","table":"orders"}
{"time":"2025-08-22T15:48:22.177661704+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"0000000000000000000c","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:48:22.178034228+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":1,"retry_count":3,"order_uid":"0000000000000000000c"}
{"time":"2025-08-22T15:48:23.178578046+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000c","items_count":1}
{"time":"2025-08-22T15:48:23.181265813+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000c","table":"orders"}
{"time":"2025-08-22T15:48:23.182799102+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"0000000000000000000c","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:48:23.183023706+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":2,"retry_count":3,"order_uid":"0000000000000000000c"}
{"time":"2025-08-22T15:48:25.184232587+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000c","items_count":1}
{"time":"2025-08-22T15:48:25.18694039+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000c","table":"orders"}
{"time":"2025-08-22T15:48:25.188499227+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"0000000000000000000c","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:48:25.189031956+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":3,"retry_count":3,"order_uid":"0000000000000000000c"}
{"time":"2025-08-22T15:48:29.192046884+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"0000000000000000000c","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","error_type":"business"}
{"time":"2025-08-22T15:48:29.192173607+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"0000000000000000000c","error_type":"transport","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","topic":"Orders","partition":0,"offset":3,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:48:29.192293398+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":4,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:48:29.192366619+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000010","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:48:29.192427203+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000010"}
{"time":"2025-08-22T15:48:29.19246349+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000010","items_count":1}
{"time":"2025-08-22T15:48:29.195283523+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000010","table":"orders"}
{"time":"2025-08-22T15:48:29.196874988+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000010","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:48:29.19764555+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":1,"retry_count":3,"order_uid":"00000000000000000010"}
{"time":"2025-08-22T15:48:30.1986358+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000010","items_count":1}
{"time":"2025-08-22T15:48:30.201811506+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000010","table":"orders"}
{"time":"2025-08-22T15:48:30.203407059+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000010","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:48:30.203721266+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":2,"retry_count":3,"order_uid":"00000000000000000010"}
{"time":"2025-08-22T15:48:32.204434337+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000010","items_count":1}
{"time":"2025-08-22T15:48:32.207093356+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000010","table":"orders"}
{"time":"2025-08-22T15:48:32.208857347+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000010","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:48:32.209421451+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":3,"retry_count":3,"order_uid":"00000000000000000010"}
{"time":"2025-08-22T15:48:36.212457922+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000010","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","error_type":"business"}
{"time":"2025-08-22T15:48:36.212567648+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000010","error_type":"transport","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","topic":"Orders","partition":0,"offset":4,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:48:36.212671756+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":1,"offset":0,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:48:36.212788532+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000001","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:48:36.212907899+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000001"}
{"time":"2025-08-22T15:48:36.212940463+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000001","items_count":1}
{"time":"2025-08-22T15:48:36.215539276+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000001","table":"orders"}
{"time":"2025-08-22T15:48:36.217024593+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000001","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:48:36.217390719+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":1,"retry_count":3,"order_uid":"00000000000000000001"}
{"time":"2025-08-22T15:48:37.218482586+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000001","items_count":1}
{"time":"2025-08-22T15:48:37.220678088+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000001","table":"orders"}
{"time":"2025-08-22T15:48:37.222321266+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000001","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:48:37.222932089+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":2,"retry_count":3,"order_uid":"00000000000000000001"}
{"time":"2025-08-22T15:48:39.22400677+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000001","items_count":1}
{"time":"2025-08-22T15:48:39.226467988+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000001","table":"orders"}
{"time":"2025-08-22T15:48:39.227999141+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000001","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:48:39.228322124+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":3,"retry_count":3,"order_uid":"00000000000000000001"}
{"time":"2025-08-22T15:48:40.562148886+03:00","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T15:48:40.562478317+03:00","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T15:48:40.564112359+03:00","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T15:49:58.379401306+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/home/lucilaga/wb_l0/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T15:50:08.381997982+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/home/lucilaga/wb_l0/internal/repository/redisCache/redis.go","line":35},"msg":"Redis connection failed","error":"dial tcp: lookup redis: i/o timeout","host":"redis:6379"}
{"time":"2025-08-22T15:50:08.419172157+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T15:50:08.419870318+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T15:50:08.425170239+03:00","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":6}
{"time":"2025-08-22T15:50:08.425251842+03:00","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T15:50:11.591747781+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":0,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:50:11.592549187+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000003","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:50:11.593578731+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000003"}
{"time":"2025-08-22T15:50:11.593626114+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000003","items_count":1}
{"time":"2025-08-22T15:50:11.59849863+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000003","table":"orders"}
{"time":"2025-08-22T15:50:11.601248805+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000003","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:50:11.601560188+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":1,"retry_count":3,"order_uid":"00000000000000000003"}
{"time":"2025-08-22T15:50:12.601676479+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000003","items_count":1}
{"time":"2025-08-22T15:50:12.604722079+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000003","table":"orders"}
{"time":"2025-08-22T15:50:12.606425276+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000003","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:50:12.60690681+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":2,"retry_count":3,"order_uid":"00000000000000000003"}
{"time":"2025-08-22T15:50:14.608214777+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000003","items_count":1}
{"time":"2025-08-22T15:50:14.614496296+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000003","table":"orders"}
{"time":"2025-08-22T15:50:14.617297981+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000003","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:50:14.617730639+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":3,"retry_count":3,"order_uid":"00000000000000000003"}
{"time":"2025-08-22T15:50:18.620462658+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000003","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","error_type":"business"}
{"time":"2025-08-22T15:50:18.620631622+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000003","error_type":"transport","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","topic":"Orders","partition":0,"offset":0,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:50:18.620774338+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":1,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:50:18.620846379+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000004","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:50:18.620952208+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000004"}
{"time":"2025-08-22T15:50:18.62097143+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000004","items_count":1}
{"time":"2025-08-22T15:50:18.623552947+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000004","table":"orders"}
{"time":"2025-08-22T15:50:18.625217357+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000004","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:50:18.625521422+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":1,"retry_count":3,"order_uid":"00000000000000000004"}
{"time":"2025-08-22T15:50:19.625669137+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000004","items_count":1}
{"time":"2025-08-22T15:50:19.629276575+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000004","table":"orders"}
{"time":"2025-08-22T15:50:19.631205339+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000004","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:50:19.631667857+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":2,"retry_count":3,"order_uid":"00000000000000000004"}
{"time":"2025-08-22T15:50:21.631862492+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000004","items_count":1}
{"time":"2025-08-22T15:50:21.634415944+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000004","table":"orders"}
{"time":"2025-08-22T15:50:21.636318409+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000004","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:50:21.636758651+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":3,"retry_count":3,"order_uid":"00000000000000000004"}
{"time":"2025-08-22T15:50:26.957605423+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000004","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","error_type":"business"}
{"time":"2025-08-22T15:50:26.957790229+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000004","error_type":"transport","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","topic":"Orders","partition":0,"offset":1,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:50:26.957883926+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":2,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:50:26.957999292+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000009","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:50:26.958099989+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000009"}
{"time":"2025-08-22T15:50:26.958140222+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000009","items_count":1}
{"time":"2025-08-22T15:50:26.96084546+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000009","table":"orders"}
{"time":"2025-08-22T15:50:26.962358802+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000009","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:50:26.962847065+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":1,"retry_count":3,"order_uid":"00000000000000000009"}
{"time":"2025-08-22T15:50:27.963013584+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000009","items_count":1}
{"time":"2025-08-22T15:50:27.965357661+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000009","table":"orders"}
{"time":"2025-08-22T15:50:27.966758035+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000009","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:50:27.967145672+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":2,"retry_count":3,"order_uid":"00000000000000000009"}
{"time":"2025-08-22T15:50:29.967369827+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000009","items_count":1}
{"time":"2025-08-22T15:50:29.969450469+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000009","table":"orders"}
{"time":"2025-08-22T15:50:29.970880882+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000009","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:50:29.971233652+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":3,"retry_count":3,"order_uid":"00000000000000000009"}
{"time":"2025-08-22T15:50:33.972224036+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000009","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","error_type":"business"}
{"time":"2025-08-22T15:50:33.972364346+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000009","error_type":"transport","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","topic":"Orders","partition":0,"offset":2,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:50:33.972429768+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":3,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:50:33.97250978+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"0000000000000000000c","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:50:33.972553098+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"0000000000000000000c"}
{"time":"2025-08-22T15:50:33.972563453+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000c","items_count":1}
{"time":"2025-08-22T15:50:33.97501038+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000c","table":"orders"}
{"time":"2025-08-22T15:50:33.976248127+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"0000000000000000000c","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:50:33.97663384+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":1,"retry_count":3,"order_uid":"0000000000000000000c"}
{"time":"2025-08-22T15:50:34.977020111+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000c","items_count":1}
{"time":"2025-08-22T15:50:34.979675188+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000c","table":"orders"}
{"time":"2025-08-22T15:50:34.981012678+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"0000000000000000000c","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:50:34.981272652+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":2,"retry_count":3,"order_uid":"0000000000000000000c"}
{"time":"2025-08-22T15:50:36.982202779+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000c","items_count":1}
{"time":"2025-08-22T15:50:36.984762342+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000c","table":"orders"}
{"time":"2025-08-22T15:50:36.986357631+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"0000000000000000000c","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:50:36.987004893+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":3,"retry_count":3,"order_uid":"0000000000000000000c"}
{"time":"2025-08-22T15:50:40.98822212+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"0000000000000000000c","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","error_type":"business"}
{"time":"2025-08-22T15:50:40.988321027+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"0000000000000000000c","error_type":"transport","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","topic":"Orders","partition":0,"offset":3,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:50:40.988402765+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":4,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:50:40.988467694+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000010","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:50:40.988566782+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000010"}
{"time":"2025-08-22T15:50:40.988586908+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000010","items_count":1}
{"time":"2025-08-22T15:50:40.99109794+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000010","table":"orders"}
{"time":"2025-08-22T15:50:40.992702741+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000010","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:50:40.992978428+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":1,"retry_count":3,"order_uid":"00000000000000000010"}
{"time":"2025-08-22T15:50:41.994167398+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000010","items_count":1}
{"time":"2025-08-22T15:50:41.997187581+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000010","table":"orders"}
{"time":"2025-08-22T15:50:41.999209172+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000010","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:50:41.99951914+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":2,"retry_count":3,"order_uid":"00000000000000000010"}
{"time":"2025-08-22T15:50:44.000405071+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000010","items_count":1}
{"time":"2025-08-22T15:50:44.003538307+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000010","table":"orders"}
{"time":"2025-08-22T15:50:44.005280777+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000010","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:50:44.005704659+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":3,"retry_count":3,"order_uid":"00000000000000000010"}
{"time":"2025-08-22T15:50:48.006024425+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000010","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","error_type":"business"}
{"time":"2025-08-22T15:50:48.006131362+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000010","error_type":"transport","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","topic":"Orders","partition":0,"offset":4,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:50:48.006226011+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":5,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:50:48.006323481+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000015","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:50:48.006400653+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000015"}
{"time":"2025-08-22T15:50:48.006412732+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000015","items_count":1}
{"time":"2025-08-22T15:50:48.008712145+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000015","table":"orders"}
{"time":"2025-08-22T15:50:48.016827587+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000015","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:50:48.017800245+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"00000000000000000015"}
{"time":"2025-08-22T15:50:49.018740225+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000015","items_count":1}
{"time":"2025-08-22T15:50:49.021337054+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000015","table":"orders"}
{"time":"2025-08-22T15:50:49.024062349+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000015","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:50:49.0246083+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"00000000000000000015"}
{"time":"2025-08-22T15:50:51.025427744+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000015","items_count":1}
{"time":"2025-08-22T15:50:51.028733612+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000015","table":"orders"}
{"time":"2025-08-22T15:50:51.031920539+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000015","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:50:51.032260064+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"00000000000000000015"}
{"time":"2025-08-22T15:50:55.035092489+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000015","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:50:55.035186868+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000015","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":0,"offset":5,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:50:55.035325212+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":6,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:50:55.035396357+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000017","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:50:55.035480207+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000017"}
{"time":"2025-08-22T15:50:55.035496013+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000017","items_count":1}
{"time":"2025-08-22T15:50:55.038609743+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000017","table":"orders"}
{"time":"2025-08-22T15:50:55.041910604+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000017","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:50:55.042433645+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"00000000000000000017"}
{"time":"2025-08-22T15:50:56.042603869+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000017","items_count":1}
{"time":"2025-08-22T15:50:56.045512118+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000017","table":"orders"}
{"time":"2025-08-22T15:50:56.048032876+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000017","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:50:56.048502311+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"00000000000000000017"}
{"time":"2025-08-22T15:50:59.395181087+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000017","items_count":1}
{"time":"2025-08-22T15:50:59.398054652+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000017","table":"orders"}
{"time":"2025-08-22T15:50:59.401108651+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000017","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:50:59.401666053+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"00000000000000000017"}
{"time":"2025-08-22T15:51:03.402936204+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000017","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:51:03.403090115+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000017","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":0,"offset":6,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:51:03.403178252+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":7,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:51:03.403245551+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"0000000000000000001b","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:51:03.403301835+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"0000000000000000001b"}
{"time":"2025-08-22T15:51:03.403337046+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000001b","items_count":1}
{"time":"2025-08-22T15:51:03.406489373+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000001b","table":"orders"}
{"time":"2025-08-22T15:51:03.409839121+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000001b","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:51:03.410096116+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"0000000000000000001b"}
{"time":"2025-08-22T15:51:04.410736838+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000001b","items_count":1}
{"time":"2025-08-22T15:51:04.413421883+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000001b","table":"orders"}
{"time":"2025-08-22T15:51:04.416519709+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000001b","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:51:04.416952841+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"0000000000000000001b"}
{"time":"2025-08-22T15:51:06.417709993+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000001b","items_count":1}
{"time":"2025-08-22T15:51:06.420388896+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000001b","table":"orders"}
{"time":"2025-08-22T15:51:06.423606194+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000001b","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:51:06.42413324+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"0000000000000000001b"}
{"time":"2025-08-22T15:51:10.425700825+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"0000000000000000001b","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:51:10.425803492+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"0000000000000000001b","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":0,"offset":7,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:51:10.425881489+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":8,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:51:10.425956109+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"0000000000000000001c","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:51:10.42606871+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"0000000000000000001c"}
{"time":"2025-08-22T15:51:10.426116433+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000001c","items_count":1}
{"time":"2025-08-22T15:51:10.429852239+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000001c","table":"orders"}
{"time":"2025-08-22T15:51:10.432006864+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000001c","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:51:10.432358323+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"0000000000000000001c"}
{"time":"2025-08-22T15:51:11.433394228+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000001c","items_count":1}
{"time":"2025-08-22T15:51:11.437018647+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000001c","table":"orders"}
{"time":"2025-08-22T15:51:11.439905596+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000001c","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:51:11.440228364+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"0000000000000000001c"}
{"time":"2025-08-22T15:51:13.440777574+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000001c","items_count":1}
{"time":"2025-08-22T15:51:13.443460527+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000001c","table":"orders"}
{"time":"2025-08-22T15:51:13.445680525+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000001c","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:51:13.446047656+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"0000000000000000001c"}
{"time":"2025-08-22T15:51:17.446360688+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"0000000000000000001c","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:51:17.446466707+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"0000000000000000001c","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":0,"offset":8,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:51:17.446547655+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":9,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:51:17.446612692+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"0000000000000000001f","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:51:17.446666352+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"0000000000000000001f"}
{"time":"2025-08-22T15:51:17.446678719+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000001f","items_count":1}
{"time":"2025-08-22T15:51:17.450799798+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000001f","table":"orders"}
{"time":"2025-08-22T15:51:17.453655957+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000001f","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:51:17.454304947+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"0000000000000000001f"}
{"time":"2025-08-22T15:51:18.454982935+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000001f","items_count":1}
{"time":"2025-08-22T15:51:18.460174836+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000001f","table":"orders"}
{"time":"2025-08-22T15:51:18.463159629+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000001f","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:51:18.463596153+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"0000000000000000001f"}
{"time":"2025-08-22T15:51:20.464589661+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000001f","items_count":1}
{"time":"2025-08-22T15:51:20.468402965+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000001f","table":"orders"}
{"time":"2025-08-22T15:51:20.471368394+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000001f","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:51:20.471864876+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"0000000000000000001f"}
{"time":"2025-08-22T15:51:22.560285316+03:00","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T15:51:22.560954761+03:00","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T15:51:22.562141229+03:00","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T15:51:48.011255792+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/home/lucilaga/wb_l0/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T15:51:58.017482207+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/home/lucilaga/wb_l0/internal/repository/redisCache/redis.go","line":35},"msg":"Redis connection failed","error":"dial tcp: lookup redis: i/o timeout","host":"redis:6379"}
{"time":"2025-08-22T15:51:58.048949649+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T15:51:58.049566411+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T15:51:58.055497988+03:00","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":6}
{"time":"2025-08-22T15:51:58.055580914+03:00","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T15:52:43.162017717+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":15,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:52:43.163598476+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000001","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:52:43.165615962+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000001"}
{"time":"2025-08-22T15:52:43.165727736+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000001","items_count":1}
{"time":"2025-08-22T15:52:43.175745791+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000001","table":"orders"}
{"time":"2025-08-22T15:52:43.185682325+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000001","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:52:43.187261939+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"00000000000000000001"}
{"time":"2025-08-22T15:52:44.187892838+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000001","items_count":1}
{"time":"2025-08-22T15:52:44.193702099+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000001","table":"orders"}
{"time":"2025-08-22T15:52:44.1998759+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000001","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:52:44.200441088+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"00000000000000000001"}
{"time":"2025-08-22T15:52:46.201483863+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000001","items_count":1}
{"time":"2025-08-22T15:52:46.20516953+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000001","table":"orders"}
{"time":"2025-08-22T15:52:46.2092973+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000001","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:52:46.210281341+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"00000000000000000001"}
{"time":"2025-08-22T15:52:50.210682166+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000001","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:52:50.210787739+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000001","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":0,"offset":15,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:52:50.210927945+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":16,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:52:50.210991848+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000002","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:52:50.211093055+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000002"}
{"time":"2025-08-22T15:52:50.211126776+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000002","items_count":1}
{"time":"2025-08-22T15:52:50.214416897+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000002","table":"orders"}
{"time":"2025-08-22T15:52:50.217363716+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000002","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:52:50.217769498+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"00000000000000000002"}
{"time":"2025-08-22T15:52:51.217992086+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000002","items_count":1}
{"time":"2025-08-22T15:52:51.221133118+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000002","table":"orders"}
{"time":"2025-08-22T15:52:51.224502167+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000002","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:52:51.225038322+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"00000000000000000002"}
{"time":"2025-08-22T15:52:53.225424654+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000002","items_count":1}
{"time":"2025-08-22T15:52:53.228382207+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000002","table":"orders"}
{"time":"2025-08-22T15:52:53.231219804+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000002","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:52:53.231571263+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"00000000000000000002"}
{"time":"2025-08-22T15:52:57.233586783+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000002","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:52:57.233759661+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000002","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":0,"offset":16,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:52:57.23390102+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":17,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:52:57.234094343+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000003","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:52:57.234202414+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000003"}
{"time":"2025-08-22T15:52:57.234228964+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000003","items_count":1}
{"time":"2025-08-22T15:52:57.237426487+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000003","table":"orders"}
{"time":"2025-08-22T15:52:57.240101139+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000003","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:52:57.240419729+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"00000000000000000003"}
{"time":"2025-08-22T15:52:58.240532216+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000003","items_count":1}
{"time":"2025-08-22T15:52:58.24362901+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000003","table":"orders"}
{"time":"2025-08-22T15:52:58.246484519+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000003","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:52:58.247188601+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"00000000000000000003"}
{"time":"2025-08-22T15:53:00.248343959+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000003","items_count":1}
{"time":"2025-08-22T15:53:00.251980916+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000003","table":"orders"}
{"time":"2025-08-22T15:53:00.255366237+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000003","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:00.255992069+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"00000000000000000003"}
{"time":"2025-08-22T15:53:04.259163481+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000003","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:53:04.259256277+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000003","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":0,"offset":17,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:53:04.259410054+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":1,"offset":10,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:53:04.259499411+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000004","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:53:04.259602299+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000004"}
{"time":"2025-08-22T15:53:04.259636857+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000004","items_count":1}
{"time":"2025-08-22T15:53:04.262041588+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000004","table":"orders"}
{"time":"2025-08-22T15:53:04.26467263+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000004","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:04.265493781+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"00000000000000000004"}
{"time":"2025-08-22T15:53:05.266345791+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000004","items_count":1}
{"time":"2025-08-22T15:53:05.269170808+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000004","table":"orders"}
{"time":"2025-08-22T15:53:05.272661439+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000004","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:05.273319003+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"00000000000000000004"}
{"time":"2025-08-22T15:53:07.273620726+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000004","items_count":1}
{"time":"2025-08-22T15:53:07.276858264+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000004","table":"orders"}
{"time":"2025-08-22T15:53:07.279912239+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000004","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:07.280437801+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"00000000000000000004"}
{"time":"2025-08-22T15:53:11.283526045+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000004","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:53:11.283640054+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000004","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":1,"offset":10,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:53:11.283763809+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":2,"offset":13,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:53:11.283856702+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000005","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:53:11.283957426+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000005"}
{"time":"2025-08-22T15:53:11.284000036+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000005","items_count":1}
{"time":"2025-08-22T15:53:11.286749348+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000005","table":"orders"}
{"time":"2025-08-22T15:53:11.289483997+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000005","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:11.289916189+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"00000000000000000005"}
{"time":"2025-08-22T15:53:13.614640941+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000005","items_count":1}
{"time":"2025-08-22T15:53:13.618022257+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000005","table":"orders"}
{"time":"2025-08-22T15:53:13.62138154+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000005","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:13.621843306+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"00000000000000000005"}
{"time":"2025-08-22T15:53:15.622956498+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000005","items_count":1}
{"time":"2025-08-22T15:53:15.626142324+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000005","table":"orders"}
{"time":"2025-08-22T15:53:15.628374831+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000005","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:15.628641362+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"00000000000000000005"}
{"time":"2025-08-22T15:53:19.628864035+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000005","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:53:19.629005338+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000005","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":2,"offset":13,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:53:19.629104624+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":1,"offset":11,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:53:19.629265154+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000006","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:53:19.629405959+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000006"}
{"time":"2025-08-22T15:53:19.62947417+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000006","items_count":1}
{"time":"2025-08-22T15:53:19.633205762+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000006","table":"orders"}
{"time":"2025-08-22T15:53:19.637209401+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000006","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:19.637799104+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"00000000000000000006"}
{"time":"2025-08-22T15:53:20.638855768+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000006","items_count":1}
{"time":"2025-08-22T15:53:20.643570776+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000006","table":"orders"}
{"time":"2025-08-22T15:53:20.648552258+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000006","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:20.649654539+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"00000000000000000006"}
{"time":"2025-08-22T15:53:22.650777297+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000006","items_count":1}
{"time":"2025-08-22T15:53:22.654662413+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000006","table":"orders"}
{"time":"2025-08-22T15:53:22.658228608+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000006","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:22.658636284+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"00000000000000000006"}
{"time":"2025-08-22T15:53:26.661834764+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000006","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:53:26.661934535+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000006","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":1,"offset":11,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:53:26.662018763+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":18,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:53:26.662077458+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000007","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:53:26.662130055+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000007"}
{"time":"2025-08-22T15:53:26.662141947+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000007","items_count":1}
{"time":"2025-08-22T15:53:26.664727174+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000007","table":"orders"}
{"time":"2025-08-22T15:53:26.667100474+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000007","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:26.667424103+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"00000000000000000007"}
{"time":"2025-08-22T15:53:27.668540337+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000007","items_count":1}
{"time":"2025-08-22T15:53:27.671551784+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000007","table":"orders"}
{"time":"2025-08-22T15:53:27.674347688+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000007","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:27.674626638+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"00000000000000000007"}
{"time":"2025-08-22T15:53:29.675846961+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000007","items_count":1}
{"time":"2025-08-22T15:53:29.678838705+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000007","table":"orders"}
{"time":"2025-08-22T15:53:29.681881608+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000007","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:29.682984827+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"00000000000000000007"}
{"time":"2025-08-22T15:53:33.685657235+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000007","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:53:33.685794084+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000007","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":0,"offset":18,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:53:33.685957694+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":2,"offset":14,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:53:33.686066187+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000008","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:53:33.686170829+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000008"}
{"time":"2025-08-22T15:53:33.686213868+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000008","items_count":1}
{"time":"2025-08-22T15:53:33.6891194+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000008","table":"orders"}
{"time":"2025-08-22T15:53:33.692053685+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000008","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:33.692452022+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"00000000000000000008"}
{"time":"2025-08-22T15:53:34.693054571+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000008","items_count":1}
{"time":"2025-08-22T15:53:34.696200287+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000008","table":"orders"}
{"time":"2025-08-22T15:53:34.699095459+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000008","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:34.699423053+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"00000000000000000008"}
{"time":"2025-08-22T15:53:36.700322518+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000008","items_count":1}
{"time":"2025-08-22T15:53:36.703664021+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000008","table":"orders"}
{"time":"2025-08-22T15:53:36.706870865+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000008","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:36.707179269+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"00000000000000000008"}
{"time":"2025-08-22T15:53:40.709031417+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000008","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:53:40.70912597+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000008","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":2,"offset":14,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:53:40.709228348+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":19,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:53:40.709281594+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000009","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:53:40.709336193+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000009"}
{"time":"2025-08-22T15:53:40.709348263+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000009","items_count":1}
{"time":"2025-08-22T15:53:40.712618754+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000009","table":"orders"}
{"time":"2025-08-22T15:53:40.715639072+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000009","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:40.716281685+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"00000000000000000009"}
{"time":"2025-08-22T15:53:41.716521596+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000009","items_count":1}
{"time":"2025-08-22T15:53:41.719940119+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000009","table":"orders"}
{"time":"2025-08-22T15:53:41.723209406+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000009","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:41.723739366+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"00000000000000000009"}
{"time":"2025-08-22T15:53:43.724938646+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000009","items_count":1}
{"time":"2025-08-22T15:53:43.72711043+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000009","table":"orders"}
{"time":"2025-08-22T15:53:43.729267295+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000009","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:43.729696096+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"00000000000000000009"}
{"time":"2025-08-22T15:53:48.959345923+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000009","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:53:48.95948343+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000009","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":0,"offset":19,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:53:48.959575189+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":20,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:53:48.959691276+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"0000000000000000000a","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:53:48.959775747+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"0000000000000000000a"}
{"time":"2025-08-22T15:53:48.959824603+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000a","items_count":1}
{"time":"2025-08-22T15:53:48.963397167+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000a","table":"orders"}
{"time":"2025-08-22T15:53:48.967383801+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000000a","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:48.9677682+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"0000000000000000000a"}
{"time":"2025-08-22T15:53:49.967976139+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000a","items_count":1}
{"time":"2025-08-22T15:53:49.97274914+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000a","table":"orders"}
{"time":"2025-08-22T15:53:49.977529362+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000000a","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:49.978102826+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"0000000000000000000a"}
{"time":"2025-08-22T15:53:51.979463992+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000a","items_count":1}
{"time":"2025-08-22T15:53:51.985474975+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000a","table":"orders"}
{"time":"2025-08-22T15:53:51.991090359+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000000a","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:51.99203706+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"0000000000000000000a"}
{"time":"2025-08-22T15:53:55.994454666+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"0000000000000000000a","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:53:55.994560153+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"0000000000000000000a","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":0,"offset":20,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:53:55.994637078+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":21,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:53:55.994713541+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"0000000000000000000b","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:53:55.994772902+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"0000000000000000000b"}
{"time":"2025-08-22T15:53:55.994786032+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000b","items_count":1}
{"time":"2025-08-22T15:53:55.99757173+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000b","table":"orders"}
{"time":"2025-08-22T15:53:56.001238269+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000000b","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:56.001722187+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"0000000000000000000b"}
{"time":"2025-08-22T15:53:57.002430592+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000b","items_count":1}
{"time":"2025-08-22T15:53:57.005494718+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000b","table":"orders"}
{"time":"2025-08-22T15:53:57.008700354+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000000b","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:57.009245936+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"0000000000000000000b"}
{"time":"2025-08-22T15:53:59.009457784+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000b","items_count":1}
{"time":"2025-08-22T15:53:59.012772132+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000b","table":"orders"}
{"time":"2025-08-22T15:53:59.017073146+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000000b","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:59.017437748+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"0000000000000000000b"}
{"time":"2025-08-22T15:54:03.017718732+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"0000000000000000000b","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:54:03.017874177+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"0000000000000000000b","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":0,"offset":21,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:54:03.018190998+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":1,"offset":12,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:54:03.018351658+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"0000000000000000000c","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:54:03.018462754+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"0000000000000000000c"}
{"time":"2025-08-22T15:54:03.018481761+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000c","items_count":1}
{"time":"2025-08-22T15:54:03.022176178+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000c","table":"orders"}
{"time":"2025-08-22T15:54:03.028972503+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000000c","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:03.02957025+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"0000000000000000000c"}
{"time":"2025-08-22T15:54:04.030032929+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000c","items_count":1}
{"time":"2025-08-22T15:54:04.033304431+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000c","table":"orders"}
{"time":"2025-08-22T15:54:04.036940898+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000000c","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:04.038207199+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"0000000000000000000c"}
{"time":"2025-08-22T15:54:06.03934626+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000c","items_count":1}
{"time":"2025-08-22T15:54:06.042712448+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000c","table":"orders"}
{"time":"2025-08-22T15:54:06.045906293+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000000c","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:06.046589152+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"0000000000000000000c"}
{"time":"2025-08-22T15:54:10.047914856+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"0000000000000000000c","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:54:10.048066615+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"0000000000000000000c","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":1,"offset":12,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:54:10.048197932+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":22,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:54:10.048282054+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"0000000000000000000d","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:54:10.04835847+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"0000000000000000000d"}
{"time":"2025-08-22T15:54:10.048394426+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000d","items_count":1}
{"time":"2025-08-22T15:54:10.051095884+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000d","table":"orders"}
{"time":"2025-08-22T15:54:10.054321482+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000000d","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:10.054791333+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"0000000000000000000d"}
{"time":"2025-08-22T15:54:11.055811285+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000d","items_count":1}
{"time":"2025-08-22T15:54:11.058633835+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000d","table":"orders"}
{"time":"2025-08-22T15:54:11.061587358+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000000d","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:11.061945028+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"0000000000000000000d"}
{"time":"2025-08-22T15:54:13.062834319+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000d","items_count":1}
{"time":"2025-08-22T15:54:13.065853167+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000d","table":"orders"}
{"time":"2025-08-22T15:54:13.069661356+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000000d","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:13.070381708+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"0000000000000000000d"}
{"time":"2025-08-22T15:54:17.073410198+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"0000000000000000000d","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:54:17.07351932+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"0000000000000000000d","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":0,"offset":22,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:54:17.07364821+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":2,"offset":15,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:54:17.073720032+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"0000000000000000000e","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:54:17.073777499+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"0000000000000000000e"}
{"time":"2025-08-22T15:54:17.073790229+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000e","items_count":1}
{"time":"2025-08-22T15:54:17.076807126+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000e","table":"orders"}
{"time":"2025-08-22T15:54:17.079979738+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000000e","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:17.080429443+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"0000000000000000000e"}
{"time":"2025-08-22T15:54:18.080592361+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000e","items_count":1}
{"time":"2025-08-22T15:54:18.083450246+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000e","table":"orders"}
{"time":"2025-08-22T15:54:18.086648945+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000000e","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:18.087050512+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"0000000000000000000e"}
{"time":"2025-08-22T15:54:21.453804614+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000e","items_count":1}
{"time":"2025-08-22T15:54:21.456236139+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000e","table":"orders"}
{"time":"2025-08-22T15:54:21.459293371+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000000e","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:21.459724524+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"0000000000000000000e"}
{"time":"2025-08-22T15:54:25.460779031+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"0000000000000000000e","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:54:25.460887726+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"0000000000000000000e","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":2,"offset":15,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:54:25.460989163+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":1,"offset":13,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:54:25.461104719+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"0000000000000000000f","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:54:25.461197314+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"0000000000000000000f"}
{"time":"2025-08-22T15:54:25.461212861+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000f","items_count":1}
{"time":"2025-08-22T15:54:25.464015286+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000f","table":"orders"}
{"time":"2025-08-22T15:54:25.467026777+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000000f","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:25.467742213+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"0000000000000000000f"}
{"time":"2025-08-22T15:54:26.468923166+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000f","items_count":1}
{"time":"2025-08-22T15:54:26.472246422+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000f","table":"orders"}
{"time":"2025-08-22T15:54:26.477313483+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000000f","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:26.478101176+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"0000000000000000000f"}
{"time":"2025-08-22T15:54:28.479349906+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000f","items_count":1}
{"time":"2025-08-22T15:54:28.482849272+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000f","table":"orders"}
{"time":"2025-08-22T15:54:28.486146107+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000000f","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:28.486645293+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"0000000000000000000f"}
{"time":"2025-08-22T15:54:32.489431014+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"0000000000000000000f","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:54:32.489557354+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"0000000000000000000f","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":1,"offset":13,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:54:32.489732574+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":1,"offset":14,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:54:32.489827089+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000010","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:54:32.489946616+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000010"}
{"time":"2025-08-22T15:54:32.489996144+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000010","items_count":1}
{"time":"2025-08-22T15:54:32.493049171+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000010","table":"orders"}
{"time":"2025-08-22T15:54:32.496860906+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000010","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:32.497500623+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"00000000000000000010"}
{"time":"2025-08-22T15:54:33.497982018+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000010","items_count":1}
{"time":"2025-08-22T15:54:33.501234568+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000010","table":"orders"}
{"time":"2025-08-22T15:54:33.503950083+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000010","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:33.504634969+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"00000000000000000010"}
{"time":"2025-08-22T15:54:35.504842272+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000010","items_count":1}
{"time":"2025-08-22T15:54:35.507512184+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000010","table":"orders"}
{"time":"2025-08-22T15:54:35.510159591+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000010","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:35.510727922+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"00000000000000000010"}
{"time":"2025-08-22T15:54:39.513435414+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000010","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:54:39.513549471+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000010","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":1,"offset":14,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:54:39.513676658+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":1,"offset":15,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:54:39.513754187+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000011","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:54:39.513843307+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000011"}
{"time":"2025-08-22T15:54:39.513860081+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000011","items_count":1}
{"time":"2025-08-22T15:54:39.517027253+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000011","table":"orders"}
{"time":"2025-08-22T15:54:39.52020585+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000011","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:39.520530605+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"00000000000000000011"}
{"time":"2025-08-22T15:54:40.521671361+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000011","items_count":1}
{"time":"2025-08-22T15:54:40.525467899+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000011","table":"orders"}
{"time":"2025-08-22T15:54:40.529188182+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000011","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:40.529556282+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"00000000000000000011"}
{"time":"2025-08-22T15:54:42.530296191+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000011","items_count":1}
{"time":"2025-08-22T15:54:42.533568224+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000011","table":"orders"}
{"time":"2025-08-22T15:54:42.537249601+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000011","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:42.537703517+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"00000000000000000011"}
{"time":"2025-08-22T15:54:46.540437532+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000011","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:54:46.540585374+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000011","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":1,"offset":15,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:54:46.540773718+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":2,"offset":16,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:54:46.540910389+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000012","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:54:46.541065058+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000012"}
{"time":"2025-08-22T15:54:46.541158937+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000012","items_count":1}
{"time":"2025-08-22T15:54:46.545222071+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000012","table":"orders"}
{"time":"2025-08-22T15:54:46.548930649+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000012","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:46.549545104+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"00000000000000000012"}
{"time":"2025-08-22T15:54:47.550448657+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000012","items_count":1}
{"time":"2025-08-22T15:54:47.554759717+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000012","table":"orders"}
{"time":"2025-08-22T15:54:47.560394713+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000012","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:47.561525228+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"00000000000000000012"}
{"time":"2025-08-22T15:54:49.562641884+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000012","items_count":1}
{"time":"2025-08-22T15:54:49.566815862+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000012","table":"orders"}
{"time":"2025-08-22T15:54:49.571473937+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000012","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:49.572084133+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"00000000000000000012"}
{"time":"2025-08-22T15:54:54.906663281+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000012","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:54:54.90675736+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000012","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":2,"offset":16,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:54:54.906834367+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":23,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:54:54.906900908+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000013","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:54:54.90695712+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000013"}
{"time":"2025-08-22T15:54:54.906971319+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000013","items_count":1}
{"time":"2025-08-22T15:54:54.910177083+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000013","table":"orders"}
{"time":"2025-08-22T15:54:54.913485852+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000013","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:54.913885785+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"00000000000000000013"}
{"time":"2025-08-22T15:54:55.914037993+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000013","items_count":1}
{"time":"2025-08-22T15:54:55.917184908+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000013","table":"orders"}
{"time":"2025-08-22T15:54:55.920334885+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000013","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:55.920912185+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"00000000000000000013"}
{"time":"2025-08-22T15:54:57.921568724+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000013","items_count":1}
{"time":"2025-08-22T15:54:57.92445858+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000013","table":"orders"}
{"time":"2025-08-22T15:54:57.927492663+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000013","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:57.92778023+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"00000000000000000013"}
{"time":"2025-08-22T15:55:01.930028835+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000013","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:55:01.930120865+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000013","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":0,"offset":23,"consumer":1,"message_size":846}
{"time":"2025-08-22T16:02:34.25066056+03:00","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T16:02:34.251658196+03:00","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T16:02:34.251748723+03:00","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T13:25:15.546899696Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":34},"msg":"failed to connect to database"}
{"time":"2025-08-22T14:06:07.342334434Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":34},"msg":"failed to connect to database"}
{"time":"2025-08-22T14:07:06.651346417Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":34},"msg":"failed to connect to database"}
{"time":"2025-08-22T14:15:36.741821938Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":34},"msg":"failed to connect to database"}
{"time":"2025-08-22T14:20:52.48800772Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":34},"msg":"failed to connect to database"}
{"time":"2025-08-22T14:27:14.025137293Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T14:27:14.030714753Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T14:27:14.078086623Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:27:14.080548641Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:27:14.080933303Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:27:14.081777433Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:27:14.082327322Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T14:27:14.082449369Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T14:27:14.197500439Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":115}
{"time":"2025-08-22T14:27:14.197613041Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T14:27:14.198006458Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T14:29:25.547508109Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T14:29:25.548877651Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T14:29:25.549157971Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T14:29:52.676197426Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T14:29:52.688870231Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T14:29:52.70082213Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:29:52.704342687Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:29:52.704454833Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:29:52.704502385Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:29:52.704554048Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T14:29:52.704664166Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T14:29:52.732053096Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":27}
{"time":"2025-08-22T14:29:52.732174855Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T14:29:52.732205677Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T14:31:18.862971624Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T14:31:18.863264303Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T14:31:18.863342147Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T14:31:46.36009449Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":34},"msg":"failed to connect to database"}
{"time":"2025-08-22T14:32:14.878624075Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T14:32:14.880907287Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T14:32:14.885081154Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:32:14.885458973Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:32:14.885505913Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:32:14.885515103Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:32:14.885523604Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T14:32:14.88554274Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T14:32:14.891966703Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":6}
{"time":"2025-08-22T14:32:14.892066678Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T14:32:14.892085518Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T14:34:25.833229483Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T14:34:25.835864712Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T14:34:25.836144493Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T14:34:55.132237267Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T14:34:55.147918763Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T14:34:55.156391154Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:34:55.15807748Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:34:55.158248074Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:34:55.158407956Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:34:55.158799343Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T14:34:55.159139251Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T14:34:55.181237294Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":22}
{"time":"2025-08-22T14:34:55.181589397Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T14:34:55.181711483Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T14:35:29.971489123Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T14:35:29.971995237Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T14:35:29.97207795Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T14:35:30.802864787Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T14:35:30.804904003Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T14:35:30.807087114Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:35:30.807412037Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:35:30.80746967Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:35:30.807481096Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:35:30.807490609Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T14:35:30.807509809Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T14:35:30.811639418Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":4}
{"time":"2025-08-22T14:35:30.811724528Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T14:35:30.811740998Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T14:35:36.235187048Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T14:35:36.23566363Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T14:35:36.238041629Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T14:35:45.198769369Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T14:35:45.202113263Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T14:35:45.204308183Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:35:45.204700447Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:35:45.204757624Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:35:45.204770549Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:35:45.204780829Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T14:35:45.204799718Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T14:35:45.209544481Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":4}
{"time":"2025-08-22T14:35:45.209708039Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T14:35:45.209727105Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T14:36:02.221034959Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T14:36:02.221964841Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T14:36:02.225945201Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T14:37:12.62689861Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T14:37:12.629111801Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T14:37:12.631519338Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:37:12.631867478Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:37:12.6319337Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:37:12.631945165Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:37:12.631954625Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T14:37:12.631989176Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T14:37:12.636883026Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":4}
{"time":"2025-08-22T14:37:12.636964679Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T14:37:12.636978049Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T14:37:15.331594634Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T14:37:15.332080659Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T14:37:15.332716495Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T14:37:17.723730981Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T14:37:17.726734938Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T14:37:17.745688293Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:37:17.74605884Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:37:17.746139372Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:37:17.746169503Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:37:17.746206341Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T14:37:17.746226789Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T14:37:17.750580361Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":4}
{"time":"2025-08-22T14:37:17.750747365Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T14:37:17.750802638Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T14:37:36.795130822Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T14:37:36.795470378Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T14:37:36.796182577Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T14:42:14.839114209Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T14:42:14.845316126Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T14:42:14.864674165Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:42:14.865174191Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:42:14.865239075Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:42:14.865419056Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:42:14.865449774Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T14:42:14.865900635Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T14:42:14.891272995Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":25}
{"time":"2025-08-22T14:42:14.89138645Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T14:42:14.891600162Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T14:43:13.002076014Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T14:43:13.002801132Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T14:43:13.003366169Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T14:43:13.820534217Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T14:43:13.822583183Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T14:43:13.82637338Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:43:13.826815862Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:43:13.826872345Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:43:13.826883144Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:43:13.826891965Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T14:43:13.826909978Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T14:43:13.833686746Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":6}
{"time":"2025-08-22T14:43:13.833769942Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T14:43:13.833784912Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T14:43:34.494166629Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T14:43:34.494499228Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T14:43:34.495111285Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T14:43:50.136393295Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T14:43:50.138394169Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T14:43:50.140565861Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:43:50.140939512Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:43:50.14101816Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:43:50.141031216Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:43:50.141039529Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T14:43:50.141057006Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T14:43:50.145679705Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":4}
{"time":"2025-08-22T14:43:50.145811399Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T14:43:50.145830002Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T14:44:38.830635015Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T14:44:38.831087795Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T14:44:38.831176188Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T14:46:36.068637997Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T14:46:36.073301012Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T14:46:36.076826844Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:46:36.077267469Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:46:36.077361418Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:46:36.077399826Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:46:36.077413081Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T14:46:36.077438718Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T14:46:36.083887581Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":6}
{"time":"2025-08-22T14:46:36.083971569Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T14:46:36.083991826Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T14:52:37.841772101Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T14:52:37.842332952Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T14:52:37.842459473Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T14:54:49.721023744Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T14:54:49.726001407Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T14:54:49.731837201Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:54:49.732332755Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:54:49.732413462Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:54:49.732624314Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:54:49.732691401Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T14:54:49.732856617Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T14:54:49.750598712Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":17}
{"time":"2025-08-22T14:54:49.750709738Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T14:54:49.750733277Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T14:58:23.244645585Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T14:58:23.250153002Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T14:58:23.25229008Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T15:07:11.311825711Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T15:07:11.315170408Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T15:07:11.319785759Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T15:07:11.321016763Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T15:07:11.321153497Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T15:07:11.321168455Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T15:07:11.321195559Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T15:07:11.321216764Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T15:07:11.333007632Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":11}
{"time":"2025-08-22T15:07:11.333125288Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T15:07:11.333334035Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T15:09:33.39289214Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T15:09:33.394100501Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T15:09:33.398696537Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T16:27:38.853385776Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T16:27:38.858218602Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T16:27:38.864753111Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:27:38.8653628Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:27:38.865474568Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:27:38.865498106Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:27:38.865700645Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T16:27:38.86579234Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T16:27:38.91793439Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":52}
{"time":"2025-08-22T16:27:38.91802573Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T16:27:38.918047683Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T16:29:11.911386661Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T16:29:11.912127363Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T16:29:11.912409737Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T16:29:13.001035966Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T16:29:13.008632162Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T16:29:13.017544872Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:29:13.022867229Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:29:13.034798403Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:29:13.035871416Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:29:13.035891547Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T16:29:13.035930286Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T16:29:13.102331815Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":66}
{"time":"2025-08-22T16:29:13.102499865Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T16:29:13.102529392Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T16:29:43.952773733Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T16:29:43.957391842Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T16:29:43.963396521Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:29:43.963796821Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:29:43.963875517Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:29:43.96389311Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:29:43.963907097Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T16:29:43.963941989Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T16:29:43.988082767Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":14}
{"time":"2025-08-22T16:29:43.988247144Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T16:29:43.988273149Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T16:47:29.269426253Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T16:47:29.277873725Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T16:47:29.278153661Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T16:48:14.193668606Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T16:48:14.198107232Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T16:48:14.206670004Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:48:14.207370026Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:48:14.20744965Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:48:14.208355258Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:48:14.208378035Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T16:48:14.208537459Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T16:48:14.243883528Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":35}
{"time":"2025-08-22T16:48:14.244030076Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T16:48:14.244056067Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T16:48:15.466023842Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T16:48:15.466436669Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T16:48:15.46738606Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T16:48:16.42903335Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T16:48:16.433044557Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T16:48:16.436999841Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:48:16.43779983Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:48:16.437892645Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:48:16.437947336Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:48:16.43798395Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T16:48:16.438173532Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T16:48:16.448290394Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":10}
{"time":"2025-08-22T16:48:16.448522988Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T16:48:16.448593863Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T16:48:25.461653349Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T16:48:25.462267721Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T16:48:25.462696669Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T16:48:28.363274738Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T16:48:28.366925513Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T16:48:28.370428299Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:48:28.371484896Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:48:28.371555536Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:48:28.371571874Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:48:28.371585061Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T16:48:28.371608529Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T16:48:28.378534465Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":6}
{"time":"2025-08-22T16:48:28.378715121Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T16:48:28.378754755Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T16:50:24.793979586Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T16:50:24.794692215Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T16:50:24.797467604Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T16:50:28.822104923Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T16:50:28.886762866Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T16:50:29.046107796Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:50:29.047413862Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:50:29.047551512Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:50:29.047928397Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:50:29.047970328Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T16:50:29.048104699Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T16:50:29.08400167Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":36}
{"time":"2025-08-22T16:50:29.084096675Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T16:50:29.08412194Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T17:13:26.795659155Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T17:13:26.851045116Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T17:13:26.869771397Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T17:13:26.910700404Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T17:13:26.910881198Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T17:13:26.910907721Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T17:13:26.910927163Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T17:13:26.911803099Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T17:13:27.007177099Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":96}
{"time":"2025-08-22T17:13:27.007349332Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T17:13:27.007380621Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T17:13:35.734612927Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T17:13:35.738290067Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T17:13:35.739036232Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T17:15:02.96714229Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T17:15:02.970337258Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T17:15:02.97458635Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T17:15:02.97512996Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T17:15:02.97523069Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T17:15:02.975292127Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T17:15:02.975318756Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T17:15:02.975364942Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T17:15:02.985099783Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":9}
{"time":"2025-08-22T17:15:02.985190799Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T17:15:02.985215201Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T17:15:12.983177295Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T17:15:12.986620313Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T17:15:12.990133157Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T17:17:49.735936073Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/go/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T17:17:49.741638916Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/go/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T17:17:49.756487877Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/go/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T17:17:49.758798536Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/go/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T17:17:49.759789819Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T17:17:49.761704092Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T17:17:49.762477492Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/go/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T17:17:49.76253247Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/go/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T17:17:49.781367491Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/go/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":18}
{"time":"2025-08-22T17:17:49.783594493Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T17:17:49.783648184Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-23T10:47:09.233034362Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":34},"msg":"failed to connect to database"}
{"time":"2025-08-23T11:06:08.863230155Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":34},"msg":"failed to connect to database"}
{"time":"2025-08-23T11:07:27.241852946Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/go/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-23T11:07:27.243960427Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/go/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-23T11:07:27.248525989Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/go/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-23T11:07:27.248917043Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/go/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-23T11:07:27.248969653Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-23T11:07:27.248978949Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-23T11:07:27.248986713Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/go/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-23T11:07:27.249022264Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/go/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-23T11:07:27.288855086Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/go/internal/repository/postgres/order.go","line":257},"msg":"Failed to execute query","order_uid":"00000000000000000001","error":"sql: Scan error on column index 18, name \"transaction\": converting NULL to string is unsupported","error_type":"database_query","query_time_ms":39}
{"time":"2025-08-23T11:07:27.288917197Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"failed to get order: sql: Scan error on column index 18, name \"transaction\": converting NULL to string is unsupported"}
{"time":"2025-08-23T11:07:27.288931601Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":61},"msg":"error getting order","error":"failed to get order: sql: Scan error on column index 18, name \"transaction\": converting NULL to string is unsupported","orderUID":"00000000000000000001"}
{"time":"2025-08-23T11:07:27.288939569Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"failed to get order: sql: Scan error on column index 18, name \"transaction\": converting NULL to string is unsupported"}
{"time":"2025-08-23T11:07:50.992376454Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-23T11:07:50.992628995Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-23T11:07:50.992697032Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-23T11:18:41.894511735Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/go/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-23T11:18:41.896042511Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/go/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-23T11:18:41.897748844Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/go/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-23T11:18:41.898011434Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/go/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-23T11:18:41.898065344Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-23T11:18:41.898078076Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-23T11:18:41.898103539Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/go/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-23T11:18:41.898124924Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/go/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-23T11:18:41.90208485Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/go/internal/repository/postgres/order.go","line":257},"msg":"Failed to execute query","order_uid":"00000000000000000001","error":"sql: Scan error on column index 18, name \"transaction\": converting NULL to string is unsupported","error_type":"database_query","query_time_ms":3}
{"time":"2025-08-23T11:18:41.902164323Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"failed to get order: sql: Scan error on column index 18, name \"transaction\": converting NULL to string is unsupported"}
{"time":"2025-08-23T11:18:41.902177253Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":61},"msg":"error getting order","error":"failed to get order: sql: Scan error on column index 18, name \"transaction\": converting NULL to string is unsupported","orderUID":"00000000000000000001"}
{"time":"2025-08-23T11:18:41.902183519Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"failed to get order: sql: Scan error on column index 18, name \"transaction\": converting NULL to string is unsupported"}
{"time":"2025-08-23T12:12:58.911342888Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-23T12:12:58.911590566Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-23T12:12:58.91168218Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-23T12:12:59.479698718Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/go/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-23T12:12:59.481201338Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/go/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-23T12:12:59.483264836Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/go/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-23T12:12:59.483624086Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/go/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-23T12:12:59.483693113Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-23T12:12:59.483716965Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-23T12:12:59.483726214Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/go/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-23T12:12:59.483754545Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/go/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-23T12:12:59.487901305Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/go/internal/repository/postgres/order.go","line":257},"msg":"Failed to execute query","order_uid":"00000000000000000001","error":"sql: Scan error on column index 18, name \"transaction\": converting NULL to string is unsupported","error_type":"database_query","query_time_ms":4}
{"time":"2025-08-23T12:12:59.488001973Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"failed to get order: sql: Scan error on column index 18, name \"transaction\": converting NULL to string is unsupported"}
{"time":"2025-08-23T12:12:59.488018719Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":61},"msg":"error getting order","error":"failed to get order: sql: Scan error on column index 18, name \"transaction\": converting NULL to string is unsupported","orderUID":"00000000000000000001"}
{"time":"2025-08-23T12:12:59.488025436Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"failed to get order: sql: Scan error on column index 18, name \"transaction\": converting NULL to string is unsupported"}
{"time":"2025-08-23T12:13:40.053878959Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/go/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-23T12:13:40.054819929Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/go/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-23T12:13:40.056791393Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/go/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-23T12:13:40.05706162Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/go/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-23T12:13:40.057123936Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-23T12:13:40.05714695Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-23T12:13:40.057170258Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/go/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-23T12:13:40.057224576Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/go/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-23T12:13:40.060814189Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/go/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":3}
{"time":"2025-08-23T12:13:40.060874943Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-23T12:13:40.060888889Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-23T12:14:44.653376683Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":0,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:14:44.653752279Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000001","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:14:44.654107459Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000001"}
{"time":"2025-08-23T12:14:44.654150146Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:14:44.654162357Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000001","items_count":1}
{"time":"2025-08-23T12:14:44.655029695Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":28},"msg":"Order already exists - skipping processing","order_uid":"00000000000000000001","action":"skip_duplicate"}
{"time":"2025-08-23T12:14:44.655063982Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:14:44.655071601Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:14:44.655433814Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-23T12:14:44.656481672Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755951284655507500}
{"time":"2025-08-23T12:14:44.656645293Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"00000000000000000001"}
{"time":"2025-08-23T12:14:44.656670789Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"00000000000000000001"}
{"time":"2025-08-23T12:14:44.65667704Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"00000000000000000001","items_count":1,"processing_time_ms":2}
{"time":"2025-08-23T12:14:44.656682315Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"00000000000000000001","processing_time_ms":3}
{"time":"2025-08-23T12:14:44.66188556Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":2,"offset":0,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:14:44.662025834Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000002","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:14:44.662106033Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000002"}
{"time":"2025-08-23T12:14:44.662140808Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:14:44.662150674Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000002","items_count":1}
{"time":"2025-08-23T12:14:44.662689891Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":28},"msg":"Order already exists - skipping processing","order_uid":"00000000000000000002","action":"skip_duplicate"}
{"time":"2025-08-23T12:14:44.66272535Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:14:44.662733947Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:14:44.66302104Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"00000000000000000002"}
{"time":"2025-08-23T12:14:44.663315265Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755951284663095600}
{"time":"2025-08-23T12:14:44.66350233Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"00000000000000000002"}
{"time":"2025-08-23T12:14:44.663535543Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"00000000000000000002"}
{"time":"2025-08-23T12:14:44.663556154Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"00000000000000000002","items_count":1,"processing_time_ms":1}
{"time":"2025-08-23T12:14:44.663575203Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"00000000000000000002","processing_time_ms":1}
{"time":"2025-08-23T12:14:44.67327397Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":1,"offset":0,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:14:44.673445015Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000003","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:14:44.673560086Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000003"}
{"time":"2025-08-23T12:14:44.673592713Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:14:44.673602188Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000003","items_count":1}
{"time":"2025-08-23T12:14:44.674171492Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":28},"msg":"Order already exists - skipping processing","order_uid":"00000000000000000003","action":"skip_duplicate"}
{"time":"2025-08-23T12:14:44.6742133Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:14:44.67422219Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:14:44.674445105Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"00000000000000000003"}
{"time":"2025-08-23T12:14:44.674673295Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755951284674496000}
{"time":"2025-08-23T12:14:44.674830762Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"00000000000000000003"}
{"time":"2025-08-23T12:14:44.674851276Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"00000000000000000003"}
{"time":"2025-08-23T12:14:44.674859188Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"00000000000000000003","items_count":1,"processing_time_ms":1}
{"time":"2025-08-23T12:14:44.674866905Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"00000000000000000003","processing_time_ms":1}
{"time":"2025-08-23T12:14:44.674921511Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":1,"offset":1,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:14:44.674976409Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000004","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:14:44.675033457Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000004"}
{"time":"2025-08-23T12:14:44.675060515Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:14:44.675066962Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000004","items_count":1}
{"time":"2025-08-23T12:14:44.675449982Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":28},"msg":"Order already exists - skipping processing","order_uid":"00000000000000000004","action":"skip_duplicate"}
{"time":"2025-08-23T12:14:44.675495405Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:14:44.675502438Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:14:44.675709822Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"00000000000000000004"}
{"time":"2025-08-23T12:14:44.675855469Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755951284675741700}
{"time":"2025-08-23T12:14:44.676023681Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"00000000000000000004"}
{"time":"2025-08-23T12:14:44.676069593Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"00000000000000000004"}
{"time":"2025-08-23T12:14:44.67608405Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"00000000000000000004","items_count":1,"processing_time_ms":1}
{"time":"2025-08-23T12:14:44.676090595Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"00000000000000000004","processing_time_ms":1}
{"time":"2025-08-23T12:14:44.677479663Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":1,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:14:44.677587409Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000005","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:14:44.677686168Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000005"}
{"time":"2025-08-23T12:14:44.677710003Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:14:44.677717524Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000005","items_count":1}
{"time":"2025-08-23T12:14:44.678128384Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":28},"msg":"Order already exists - skipping processing","order_uid":"00000000000000000005","action":"skip_duplicate"}
{"time":"2025-08-23T12:14:44.678165601Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:14:44.678173905Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:14:44.678383437Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"00000000000000000005"}
{"time":"2025-08-23T12:14:44.678652655Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755951284678417400}
{"time":"2025-08-23T12:14:44.678813638Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"00000000000000000005"}
{"time":"2025-08-23T12:14:44.678847437Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"00000000000000000005"}
{"time":"2025-08-23T12:14:44.678856717Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"00000000000000000005","items_count":1,"processing_time_ms":1}
{"time":"2025-08-23T12:14:44.678864532Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"00000000000000000005","processing_time_ms":1}
{"time":"2025-08-23T12:14:44.684109389Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":1,"offset":2,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:14:44.684210004Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000006","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:14:44.684288347Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000006"}
{"time":"2025-08-23T12:14:44.684311693Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:14:44.684320192Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000006","items_count":1}
{"time":"2025-08-23T12:14:44.684715324Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":28},"msg":"Order already exists - skipping processing","order_uid":"00000000000000000006","action":"skip_duplicate"}
{"time":"2025-08-23T12:14:44.684742578Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:14:44.684760845Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:14:44.685145037Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"00000000000000000006"}
{"time":"2025-08-23T12:14:44.685373423Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755951284685174300}
{"time":"2025-08-23T12:14:44.685553747Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"00000000000000000006"}
{"time":"2025-08-23T12:14:44.685589988Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"00000000000000000006"}
{"time":"2025-08-23T12:14:44.685599171Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"00000000000000000006","items_count":1,"processing_time_ms":1}
{"time":"2025-08-23T12:14:44.685606497Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"00000000000000000006","processing_time_ms":1}
{"time":"2025-08-23T12:14:44.690452413Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":2,"offset":1,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:14:44.690602358Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000007","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:14:44.690707661Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000007"}
{"time":"2025-08-23T12:14:44.690736087Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:14:44.690744586Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000007","items_count":1}
{"time":"2025-08-23T12:14:44.691116079Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":28},"msg":"Order already exists - skipping processing","order_uid":"00000000000000000007","action":"skip_duplicate"}
{"time":"2025-08-23T12:14:44.691142649Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:14:44.691149682Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:14:44.69141216Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"00000000000000000007"}
{"time":"2025-08-23T12:14:44.691631656Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755951284691449600}
{"time":"2025-08-23T12:14:44.691804557Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"00000000000000000007"}
{"time":"2025-08-23T12:14:44.691840505Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"00000000000000000007"}
{"time":"2025-08-23T12:14:44.69186307Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"00000000000000000007","items_count":1,"processing_time_ms":1}
{"time":"2025-08-23T12:14:44.691871373Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"00000000000000000007","processing_time_ms":1}
{"time":"2025-08-23T12:14:44.697142019Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":2,"offset":2,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:14:44.697299291Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000008","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:14:44.697365814Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000008"}
{"time":"2025-08-23T12:14:44.697376657Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:14:44.697385937Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000008","items_count":1}
{"time":"2025-08-23T12:14:44.697816724Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":28},"msg":"Order already exists - skipping processing","order_uid":"00000000000000000008","action":"skip_duplicate"}
{"time":"2025-08-23T12:14:44.697853844Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:14:44.697863319Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:14:44.698156762Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"00000000000000000008"}
{"time":"2025-08-23T12:14:44.698392181Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755951284698187500}
{"time":"2025-08-23T12:14:44.698623106Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"00000000000000000008"}
{"time":"2025-08-23T12:14:44.698677516Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"00000000000000000008"}
{"time":"2025-08-23T12:14:44.698686406Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"00000000000000000008","items_count":1,"processing_time_ms":1}
{"time":"2025-08-23T12:14:44.698694904Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"00000000000000000008","processing_time_ms":1}
{"time":"2025-08-23T12:14:44.703622386Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":2,"offset":3,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:14:44.70377702Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000009","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:14:44.703858977Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000009"}
{"time":"2025-08-23T12:14:44.703887306Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:14:44.703897563Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000009","items_count":1}
{"time":"2025-08-23T12:14:44.704362539Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":28},"msg":"Order already exists - skipping processing","order_uid":"00000000000000000009","action":"skip_duplicate"}
{"time":"2025-08-23T12:14:44.704400441Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:14:44.704409623Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:14:44.704640158Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"00000000000000000009"}
{"time":"2025-08-23T12:14:44.70484842Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755951284704673500}
{"time":"2025-08-23T12:14:44.705022884Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"00000000000000000009"}
{"time":"2025-08-23T12:14:44.70505512Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"00000000000000000009"}
{"time":"2025-08-23T12:14:44.705073582Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"00000000000000000009","items_count":1,"processing_time_ms":1}
{"time":"2025-08-23T12:14:44.705093021Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"00000000000000000009","processing_time_ms":1}
{"time":"2025-08-23T12:14:44.710132742Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":2,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:14:44.71024547Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"0000000000000000000a","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:14:44.710329283Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"0000000000000000000a"}
{"time":"2025-08-23T12:14:44.710350383Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:14:44.710358784Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000a","items_count":1}
{"time":"2025-08-23T12:14:44.7106913Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":28},"msg":"Order already exists - skipping processing","order_uid":"0000000000000000000a","action":"skip_duplicate"}
{"time":"2025-08-23T12:14:44.710726076Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:14:44.710733988Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:14:44.710967747Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"0000000000000000000a"}
{"time":"2025-08-23T12:14:44.711225242Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755951284711018800}
{"time":"2025-08-23T12:14:44.711409181Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"0000000000000000000a"}
{"time":"2025-08-23T12:14:44.711437998Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"0000000000000000000a"}
{"time":"2025-08-23T12:14:44.711466229Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"0000000000000000000a","items_count":1,"processing_time_ms":1}
{"time":"2025-08-23T12:14:44.71147629Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"0000000000000000000a","processing_time_ms":1}
{"time":"2025-08-23T12:14:44.716476254Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":2,"offset":4,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:14:44.716595136Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"0000000000000000000b","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:14:44.716651402Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"0000000000000000000b"}
{"time":"2025-08-23T12:14:44.716667129Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:14:44.71667299Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000b","items_count":1}
{"time":"2025-08-23T12:14:44.716993394Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":28},"msg":"Order already exists - skipping processing","order_uid":"0000000000000000000b","action":"skip_duplicate"}
{"time":"2025-08-23T12:14:44.7170311Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:14:44.717040966Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:14:44.717224905Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"0000000000000000000b"}
{"time":"2025-08-23T12:14:44.717435219Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755951284717254400}
{"time":"2025-08-23T12:14:44.717598254Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"0000000000000000000b"}
{"time":"2025-08-23T12:14:44.717630783Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"0000000000000000000b"}
{"time":"2025-08-23T12:14:44.717640063Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"0000000000000000000b","items_count":1,"processing_time_ms":1}
{"time":"2025-08-23T12:14:44.717657451Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"0000000000000000000b","processing_time_ms":1}
{"time":"2025-08-23T12:14:44.722877888Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":3,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:14:44.722976256Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"0000000000000000000c","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:14:44.723023632Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"0000000000000000000c"}
{"time":"2025-08-23T12:14:44.723038676Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:14:44.723071986Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000c","items_count":1}
{"time":"2025-08-23T12:14:44.723455787Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":28},"msg":"Order already exists - skipping processing","order_uid":"0000000000000000000c","action":"skip_duplicate"}
{"time":"2025-08-23T12:14:44.723493884Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:14:44.723500819Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:14:44.723691987Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"0000000000000000000c"}
{"time":"2025-08-23T12:14:44.723939226Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755951284723724000}
{"time":"2025-08-23T12:14:44.72410695Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"0000000000000000000c"}
{"time":"2025-08-23T12:14:44.724137525Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"0000000000000000000c"}
{"time":"2025-08-23T12:14:44.724145437Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"0000000000000000000c","items_count":1,"processing_time_ms":1}
{"time":"2025-08-23T12:14:44.724171128Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"0000000000000000000c","processing_time_ms":1}
{"time":"2025-08-23T12:14:44.729084739Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":1,"offset":3,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:14:44.729183888Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"0000000000000000000d","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:14:44.729228237Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"0000000000000000000d"}
{"time":"2025-08-23T12:14:44.729243183Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:14:44.729248458Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000d","items_count":1}
{"time":"2025-08-23T12:14:44.729517871Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":28},"msg":"Order already exists - skipping processing","order_uid":"0000000000000000000d","action":"skip_duplicate"}
{"time":"2025-08-23T12:14:44.729546297Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:14:44.729552646Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:14:44.729709722Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"0000000000000000000d"}
{"time":"2025-08-23T12:14:44.729874515Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755951284729740300}
{"time":"2025-08-23T12:14:44.730029443Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"0000000000000000000d"}
{"time":"2025-08-23T12:14:44.73005611Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"0000000000000000000d"}
{"time":"2025-08-23T12:14:44.730076331Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"0000000000000000000d","items_count":1,"processing_time_ms":0}
{"time":"2025-08-23T12:14:44.730092449Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"0000000000000000000d","processing_time_ms":1}
{"time":"2025-08-23T12:14:44.735218132Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":1,"offset":4,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:14:44.735361239Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"0000000000000000000e","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:14:44.735423953Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"0000000000000000000e"}
{"time":"2025-08-23T12:14:44.735444271Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:14:44.735451402Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000e","items_count":1}
{"time":"2025-08-23T12:14:44.735780011Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":28},"msg":"Order already exists - skipping processing","order_uid":"0000000000000000000e","action":"skip_duplicate"}
{"time":"2025-08-23T12:14:44.73580834Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:14:44.735814885Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:14:44.735986516Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"0000000000000000000e"}
{"time":"2025-08-23T12:14:44.736149062Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755951284736019000}
{"time":"2025-08-23T12:14:44.736310827Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"0000000000000000000e"}
{"time":"2025-08-23T12:14:44.736350682Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"0000000000000000000e"}
{"time":"2025-08-23T12:14:44.736360255Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"0000000000000000000e","items_count":1,"processing_time_ms":1}
{"time":"2025-08-23T12:14:44.736366995Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"0000000000000000000e","processing_time_ms":1}
{"time":"2025-08-23T12:14:44.741399781Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":4,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:14:44.75110607Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"0000000000000000000f","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:14:44.75116976Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"0000000000000000000f"}
{"time":"2025-08-23T12:14:44.751176988Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:14:44.75118324Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000f","items_count":1}
{"time":"2025-08-23T12:14:44.751503156Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":28},"msg":"Order already exists - skipping processing","order_uid":"0000000000000000000f","action":"skip_duplicate"}
{"time":"2025-08-23T12:14:44.751545551Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:14:44.751554733Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:14:44.751752348Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"0000000000000000000f"}
{"time":"2025-08-23T12:14:44.751940585Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755951284751792400}
{"time":"2025-08-23T12:14:44.752141326Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"0000000000000000000f"}
{"time":"2025-08-23T12:14:44.752170729Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"0000000000000000000f"}
{"time":"2025-08-23T12:14:44.752178446Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"0000000000000000000f","items_count":1,"processing_time_ms":1}
{"time":"2025-08-23T12:14:44.752193392Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"0000000000000000000f","processing_time_ms":10}
{"time":"2025-08-23T12:14:44.752270856Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":5,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:14:44.752349687Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000010","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:14:44.752406343Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000010"}
{"time":"2025-08-23T12:14:44.752430081Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:14:44.752436137Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000010","items_count":1}
{"time":"2025-08-23T12:14:44.752688065Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":28},"msg":"Order already exists - skipping processing","order_uid":"00000000000000000010","action":"skip_duplicate"}
{"time":"2025-08-23T12:14:44.752718151Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:14:44.752724208Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:14:44.752899355Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"00000000000000000010"}
{"time":"2025-08-23T12:14:44.753073331Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755951284752929500}
{"time":"2025-08-23T12:14:44.753234998Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"00000000000000000010"}
{"time":"2025-08-23T12:14:44.753269774Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"00000000000000000010"}
{"time":"2025-08-23T12:14:44.753277393Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"00000000000000000010","items_count":1,"processing_time_ms":0}
{"time":"2025-08-23T12:14:44.753283645Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"00000000000000000010","processing_time_ms":1}
{"time":"2025-08-23T12:14:44.754166417Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":1,"offset":5,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:14:44.754270353Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000011","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:14:44.754350942Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000011"}
{"time":"2025-08-23T12:14:44.754375363Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:14:44.754382103Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000011","items_count":1}
{"time":"2025-08-23T12:14:44.754706708Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":28},"msg":"Order already exists - skipping processing","order_uid":"00000000000000000011","action":"skip_duplicate"}
{"time":"2025-08-23T12:14:44.754738162Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:14:44.754747344Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:14:44.754929623Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"00000000000000000011"}
{"time":"2025-08-23T12:14:44.755108385Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755951284754957800}
{"time":"2025-08-23T12:14:44.755261847Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"00000000000000000011"}
{"time":"2025-08-23T12:14:44.755295548Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"00000000000000000011"}
{"time":"2025-08-23T12:14:44.755304046Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"00000000000000000011","items_count":1,"processing_time_ms":1}
{"time":"2025-08-23T12:14:44.755310494Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"00000000000000000011","processing_time_ms":1}
{"time":"2025-08-23T12:14:44.760245986Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":6,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:14:44.760343767Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000012","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:14:44.760395833Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000012"}
{"time":"2025-08-23T12:14:44.760416835Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:14:44.760422208Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000012","items_count":1}
{"time":"2025-08-23T12:14:44.760743296Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":28},"msg":"Order already exists - skipping processing","order_uid":"00000000000000000012","action":"skip_duplicate"}
{"time":"2025-08-23T12:14:44.760858954Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:14:44.760885328Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:14:44.76107044Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"00000000000000000012"}
{"time":"2025-08-23T12:14:44.76126825Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755951284761101300}
{"time":"2025-08-23T12:14:44.761454436Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"00000000000000000012"}
{"time":"2025-08-23T12:14:44.761507772Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"00000000000000000012"}
{"time":"2025-08-23T12:14:44.761516173Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"00000000000000000012","items_count":1,"processing_time_ms":1}
{"time":"2025-08-23T12:14:44.761523694Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"00000000000000000012","processing_time_ms":1}
{"time":"2025-08-23T12:14:44.766792192Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":7,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:14:44.766952785Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000013","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:14:44.767004264Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000013"}
{"time":"2025-08-23T12:14:44.767014423Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:14:44.767021359Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000013","items_count":1}
{"time":"2025-08-23T12:14:44.767416198Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":28},"msg":"Order already exists - skipping processing","order_uid":"00000000000000000013","action":"skip_duplicate"}
{"time":"2025-08-23T12:14:44.767458007Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:14:44.767469241Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:14:44.767687467Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"00000000000000000013"}
{"time":"2025-08-23T12:14:44.767854995Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755951284767718100}
{"time":"2025-08-23T12:14:44.768013244Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"00000000000000000013"}
{"time":"2025-08-23T12:14:44.7680362Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"00000000000000000013"}
{"time":"2025-08-23T12:14:44.768043037Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"00000000000000000013","items_count":1,"processing_time_ms":1}
{"time":"2025-08-23T12:14:44.768049485Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"00000000000000000013","processing_time_ms":1}
{"time":"2025-08-23T12:30:05.478191301Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-23T12:30:05.478474338Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-23T12:30:05.478574783Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-23T12:30:36.494138725Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/go/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-23T12:30:36.495567852Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/go/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-23T12:30:36.497543109Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/go/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-23T12:30:36.497858952Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/go/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-23T12:30:36.497923385Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-23T12:30:36.497943533Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-23T12:30:36.497954337Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/go/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-23T12:30:36.497983439Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/go/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-23T12:30:36.502661998Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/go/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":4}
{"time":"2025-08-23T12:30:36.502759817Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-23T12:30:36.502779186Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-23T12:31:09.334839565Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-23T12:31:09.335154375Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-23T12:31:09.335268232Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-23T12:31:09.992994739Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/go/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-23T12:31:09.994396835Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/go/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-23T12:31:09.996437699Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/go/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-23T12:31:09.996736549Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/go/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-23T12:31:09.996778978Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-23T12:31:09.996790169Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-23T12:31:09.996799122Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/go/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-23T12:31:09.996833571Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/go/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-23T12:31:10.000503758Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/go/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":3}
{"time":"2025-08-23T12:31:10.000582679Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-23T12:31:10.000622773Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-23T12:31:35.425383902Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-23T12:31:35.425632529Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-23T12:31:35.425801069Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-23T12:31:37.01409756Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/go/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-23T12:31:37.015560616Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/go/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-23T12:31:37.017942959Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/go/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-23T12:31:37.01827644Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/go/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-23T12:31:37.018340373Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-23T12:31:37.018348936Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-23T12:31:37.018360905Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/go/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-23T12:31:37.018385914Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/go/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-23T12:31:37.02202988Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/go/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":3}
{"time":"2025-08-23T12:31:37.022143539Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-23T12:31:37.02215833Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-23T12:31:40.922322292Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-23T12:31:40.922614712Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-23T12:31:40.922686819Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-23T12:31:56.498927137Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/go/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-23T12:31:56.500510938Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/go/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-23T12:31:56.502519861Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/go/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-23T12:31:56.502844245Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/go/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-23T12:31:56.502923299Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-23T12:31:56.502934189Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-23T12:31:56.502941482Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/go/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-23T12:31:56.502973279Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/go/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-23T12:31:56.507746172Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/go/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":4}
{"time":"2025-08-23T12:31:56.507799847Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-23T12:31:56.507810932Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-23T12:32:35.833170784Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-23T12:32:35.833415874Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-23T12:32:35.833532629Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-23T12:32:54.859535167Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/go/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-23T12:32:54.861097242Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/go/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-23T12:32:54.862935618Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/go/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-23T12:32:54.863258421Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/go/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-23T12:32:54.863308807Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-23T12:32:54.863324049Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-23T12:32:54.863332301Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/go/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-23T12:32:54.863357349Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/go/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-23T12:32:54.867949209Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/go/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":4}
{"time":"2025-08-23T12:32:54.868017847Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-23T12:32:54.868030662Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-23T12:33:25.300217368Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-23T12:33:25.300442877Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-23T12:33:25.300519505Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-23T12:34:08.135872589Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/go/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-23T12:34:08.137292703Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/go/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-23T12:36:49.335267405Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":1,"offset":0,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:36:49.335596815Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000001","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:36:49.335887225Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000001"}
{"time":"2025-08-23T12:36:49.335919417Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:36:49.33592817Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000001","items_count":1}
{"time":"2025-08-23T12:36:49.339806402Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000001","table":"orders"}
{"time":"2025-08-23T12:36:49.347949949Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":195},"msg":"Order saved successfully","order_uid":"00000000000000000001","total_processing_time_ms":12,"status":"completed"}
{"time":"2025-08-23T12:36:49.348020071Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:36:49.348031256Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:36:49.348425828Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-23T12:36:49.349006163Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755952609348459000}
{"time":"2025-08-23T12:36:49.349557417Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"00000000000000000001"}
{"time":"2025-08-23T12:36:49.349602058Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"00000000000000000001"}
{"time":"2025-08-23T12:36:49.349610422Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"00000000000000000001","items_count":1,"processing_time_ms":14}
{"time":"2025-08-23T12:36:49.349619662Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"00000000000000000001","processing_time_ms":14}
{"time":"2025-08-23T12:36:49.349670722Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":1,"offset":1,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:36:49.35012715Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000002","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:36:49.350249111Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000002"}
{"time":"2025-08-23T12:36:49.350301241Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:36:49.350329251Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000002","items_count":1}
{"time":"2025-08-23T12:36:49.351450627Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000002","table":"orders"}
{"time":"2025-08-23T12:36:49.354920281Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":195},"msg":"Order saved successfully","order_uid":"00000000000000000002","total_processing_time_ms":4,"status":"completed"}
{"time":"2025-08-23T12:36:49.354984568Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:36:49.354995169Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:36:49.355382447Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"00000000000000000002"}
{"time":"2025-08-23T12:36:49.355598261Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755952609355414800}
{"time":"2025-08-23T12:36:49.35573413Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"00000000000000000002"}
{"time":"2025-08-23T12:36:49.355762918Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"00000000000000000002"}
{"time":"2025-08-23T12:36:49.355770796Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"00000000000000000002","items_count":1,"processing_time_ms":5}
{"time":"2025-08-23T12:36:49.355777895Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"00000000000000000002","processing_time_ms":6}
{"time":"2025-08-23T12:36:49.355836347Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":0,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:36:49.355903065Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000003","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:36:49.355959669Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000003"}
{"time":"2025-08-23T12:36:49.35596745Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:36:49.355973382Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000003","items_count":1}
{"time":"2025-08-23T12:36:49.357484177Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000003","table":"orders"}
{"time":"2025-08-23T12:36:49.361821171Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":195},"msg":"Order saved successfully","order_uid":"00000000000000000003","total_processing_time_ms":5,"status":"completed"}
{"time":"2025-08-23T12:36:49.361961902Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:36:49.362099424Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:36:49.362414538Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"00000000000000000003"}
{"time":"2025-08-23T12:36:49.362600785Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755952609362450700}
{"time":"2025-08-23T12:36:49.362724302Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"00000000000000000003"}
{"time":"2025-08-23T12:36:49.362739961Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"00000000000000000003"}
{"time":"2025-08-23T12:36:49.362747936Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"00000000000000000003","items_count":1,"processing_time_ms":6}
{"time":"2025-08-23T12:36:49.362754938Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"00000000000000000003","processing_time_ms":6}
{"time":"2025-08-23T12:36:49.362809694Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":2,"offset":0,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:36:49.362873787Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000004","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:36:49.362917552Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000004"}
{"time":"2025-08-23T12:36:49.362924652Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:36:49.362930779Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000004","items_count":1}
{"time":"2025-08-23T12:36:49.364198042Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000004","table":"orders"}
{"time":"2025-08-23T12:36:49.367376993Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":195},"msg":"Order saved successfully","order_uid":"00000000000000000004","total_processing_time_ms":4,"status":"completed"}
{"time":"2025-08-23T12:36:49.367445462Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:36:49.367456355Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:36:49.367908018Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"00000000000000000004"}
{"time":"2025-08-23T12:36:49.368185396Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755952609367989200}
{"time":"2025-08-23T12:36:49.36852745Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"00000000000000000004"}
{"time":"2025-08-23T12:36:49.368553612Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"00000000000000000004"}
{"time":"2025-08-23T12:36:49.368601657Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"00000000000000000004","items_count":1,"processing_time_ms":5}
{"time":"2025-08-23T12:36:49.36861148Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"00000000000000000004","processing_time_ms":5}
{"time":"2025-08-23T12:36:49.368678685Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":1,"offset":2,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:36:49.368761937Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000005","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:36:49.368836533Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000005"}
{"time":"2025-08-23T12:36:49.368867461Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:36:49.368875631Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000005","items_count":1}
{"time":"2025-08-23T12:36:49.370111674Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000005","table":"orders"}
{"time":"2025-08-23T12:36:49.373185879Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":195},"msg":"Order saved successfully","order_uid":"00000000000000000005","total_processing_time_ms":4,"status":"completed"}
{"time":"2025-08-23T12:36:49.373289555Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:36:49.373310174Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:36:49.373610699Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"00000000000000000005"}
{"time":"2025-08-23T12:36:49.37449078Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755952609373809200}
{"time":"2025-08-23T12:36:49.374851799Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"00000000000000000005"}
{"time":"2025-08-23T12:36:49.374902373Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"00000000000000000005"}
{"time":"2025-08-23T12:36:49.374932231Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"00000000000000000005","items_count":1,"processing_time_ms":6}
{"time":"2025-08-23T12:36:49.374974635Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"00000000000000000005","processing_time_ms":6}
{"time":"2025-08-23T12:36:49.375174499Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":1,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:36:49.375384574Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000006","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:36:49.375473078Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000006"}
{"time":"2025-08-23T12:36:49.375482901Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:36:49.375489515Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000006","items_count":1}
{"time":"2025-08-23T12:36:49.376734408Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000006","table":"orders"}
{"time":"2025-08-23T12:36:49.380235378Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":195},"msg":"Order saved successfully","order_uid":"00000000000000000006","total_processing_time_ms":4,"status":"completed"}
{"time":"2025-08-23T12:36:49.380299082Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:36:49.380326995Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:36:49.380554674Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"00000000000000000006"}
{"time":"2025-08-23T12:36:49.380795094Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755952609380596500}
{"time":"2025-08-23T12:36:49.380967629Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"00000000000000000006"}
{"time":"2025-08-23T12:36:49.380995444Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"00000000000000000006"}
{"time":"2025-08-23T12:36:49.381014798Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"00000000000000000006","items_count":1,"processing_time_ms":5}
{"time":"2025-08-23T12:36:49.381035709Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"00000000000000000006","processing_time_ms":5}
{"time":"2025-08-23T12:36:49.381081322Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":1,"offset":3,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:36:49.381136078Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000007","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:36:49.381222151Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000007"}
{"time":"2025-08-23T12:36:49.38124948Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:36:49.381256385Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000007","items_count":1}
{"time":"2025-08-23T12:36:49.382418221Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000007","table":"orders"}
{"time":"2025-08-23T12:36:49.385052921Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":195},"msg":"Order saved successfully","order_uid":"00000000000000000007","total_processing_time_ms":3,"status":"completed"}
{"time":"2025-08-23T12:36:49.385131213Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:36:49.385153776Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:36:49.385465097Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"00000000000000000007"}
{"time":"2025-08-23T12:36:49.386153484Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755952609385547000}
{"time":"2025-08-23T12:36:49.386405186Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"00000000000000000007"}
{"time":"2025-08-23T12:36:49.38648377Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"00000000000000000007"}
{"time":"2025-08-23T12:36:49.386528703Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"00000000000000000007","items_count":1,"processing_time_ms":5}
{"time":"2025-08-23T12:36:49.386552336Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"00000000000000000007","processing_time_ms":5}
{"time":"2025-08-23T12:36:49.386600187Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":2,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:36:49.386874939Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000008","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:36:49.387133837Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000008"}
{"time":"2025-08-23T12:36:49.387223509Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:36:49.387238292Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000008","items_count":1}
{"time":"2025-08-23T12:36:49.388258812Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000008","table":"orders"}
{"time":"2025-08-23T12:36:49.393358206Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":195},"msg":"Order saved successfully","order_uid":"00000000000000000008","total_processing_time_ms":6,"status":"completed"}
{"time":"2025-08-23T12:36:49.393430371Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:36:49.393442431Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:36:49.39398571Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"00000000000000000008"}
{"time":"2025-08-23T12:36:49.394219419Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755952609394017800}
{"time":"2025-08-23T12:36:49.394406542Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"00000000000000000008"}
{"time":"2025-08-23T12:36:49.394441944Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"00000000000000000008"}
{"time":"2025-08-23T12:36:49.394450308Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"00000000000000000008","items_count":1,"processing_time_ms":7}
{"time":"2025-08-23T12:36:49.394458381Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"00000000000000000008","processing_time_ms":7}
{"time":"2025-08-23T12:36:49.394515665Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":2,"offset":1,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:36:49.394592401Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000009","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:36:49.394662232Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000009"}
{"time":"2025-08-23T12:36:49.394673319Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:36:49.394679155Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000009","items_count":1}
{"time":"2025-08-23T12:36:49.396278551Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000009","table":"orders"}
{"time":"2025-08-23T12:36:49.400241007Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":195},"msg":"Order saved successfully","order_uid":"00000000000000000009","total_processing_time_ms":5,"status":"completed"}
{"time":"2025-08-23T12:36:49.400311616Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:36:49.400324648Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:36:49.400598038Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"00000000000000000009"}
{"time":"2025-08-23T12:36:49.400824161Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755952609400628200}
{"time":"2025-08-23T12:36:49.401003018Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"00000000000000000009"}
{"time":"2025-08-23T12:36:49.401143652Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"00000000000000000009"}
{"time":"2025-08-23T12:36:49.401243438Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"00000000000000000009","items_count":1,"processing_time_ms":6}
{"time":"2025-08-23T12:36:49.401390782Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"00000000000000000009","processing_time_ms":6}
{"time":"2025-08-23T12:36:49.402678566Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":2,"offset":2,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:36:49.402873567Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"0000000000000000000a","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:36:49.40297345Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"0000000000000000000a"}
{"time":"2025-08-23T12:36:49.403037348Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:36:49.403047852Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000a","items_count":1}
{"time":"2025-08-23T12:36:49.404211341Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000a","table":"orders"}
{"time":"2025-08-23T12:36:49.40668294Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":195},"msg":"Order saved successfully","order_uid":"0000000000000000000a","total_processing_time_ms":3,"status":"completed"}
{"time":"2025-08-23T12:36:49.406740614Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:36:49.406803053Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:36:49.407156291Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"0000000000000000000a"}
{"time":"2025-08-23T12:36:49.407379691Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755952609407208000}
{"time":"2025-08-23T12:36:49.407876287Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"0000000000000000000a"}
{"time":"2025-08-23T12:36:49.407914898Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"0000000000000000000a"}
{"time":"2025-08-23T12:36:49.407924235Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"0000000000000000000a","items_count":1,"processing_time_ms":5}
{"time":"2025-08-23T12:36:49.407932307Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"0000000000000000000a","processing_time_ms":5}
{"time":"2025-08-23T12:36:49.409556309Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":3,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:36:49.410012835Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"0000000000000000000b","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:36:49.410139853Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"0000000000000000000b"}
{"time":"2025-08-23T12:36:49.410185369Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:36:49.410226606Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000b","items_count":1}
{"time":"2025-08-23T12:36:49.41128992Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000b","table":"orders"}
{"time":"2025-08-23T12:36:49.41386257Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":195},"msg":"Order saved successfully","order_uid":"0000000000000000000b","total_processing_time_ms":3,"status":"completed"}
{"time":"2025-08-23T12:36:49.413919174Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:36:49.413930261Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:36:49.414944557Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"0000000000000000000b"}
{"time":"2025-08-23T12:36:49.415152201Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755952609414997200}
{"time":"2025-08-23T12:36:49.415322402Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"0000000000000000000b"}
{"time":"2025-08-23T12:36:49.415344187Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"0000000000000000000b"}
{"time":"2025-08-23T12:36:49.415352162Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"0000000000000000000b","items_count":1,"processing_time_ms":5}
{"time":"2025-08-23T12:36:49.415359457Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"0000000000000000000b","processing_time_ms":5}
{"time":"2025-08-23T12:36:49.41711816Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":2,"offset":3,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:36:49.41721921Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"0000000000000000000c","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:36:49.417289722Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"0000000000000000000c"}
{"time":"2025-08-23T12:36:49.417300031Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:36:49.417307715Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000c","items_count":1}
{"time":"2025-08-23T12:36:49.418631289Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000c","table":"orders"}
{"time":"2025-08-23T12:36:49.420944456Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":195},"msg":"Order saved successfully","order_uid":"0000000000000000000c","total_processing_time_ms":3,"status":"completed"}
{"time":"2025-08-23T12:36:49.420995322Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:36:49.421005825Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:36:49.42122446Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"0000000000000000000c"}
{"time":"2025-08-23T12:36:49.421535391Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755952609421255700}
{"time":"2025-08-23T12:36:49.422494154Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"0000000000000000000c"}
{"time":"2025-08-23T12:36:49.422566708Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"0000000000000000000c"}
{"time":"2025-08-23T12:36:49.422592967Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"0000000000000000000c","items_count":1,"processing_time_ms":5}
{"time":"2025-08-23T12:36:49.422608139Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"0000000000000000000c","processing_time_ms":5}
{"time":"2025-08-23T12:36:49.4305136Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":2,"offset":4,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:36:49.431312277Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"0000000000000000000d","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:36:49.431416439Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"0000000000000000000d"}
{"time":"2025-08-23T12:36:49.431429958Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:36:49.431437447Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000d","items_count":1}
{"time":"2025-08-23T12:36:49.432391444Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000d","table":"orders"}
{"time":"2025-08-23T12:36:49.43475995Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":195},"msg":"Order saved successfully","order_uid":"0000000000000000000d","total_processing_time_ms":3,"status":"completed"}
{"time":"2025-08-23T12:36:49.43487306Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:36:49.43493618Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:36:49.435363043Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"0000000000000000000d"}
{"time":"2025-08-23T12:36:49.436151021Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755952609435729000}
{"time":"2025-08-23T12:36:49.437199455Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"0000000000000000000d"}
{"time":"2025-08-23T12:36:49.437313635Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"0000000000000000000d"}
{"time":"2025-08-23T12:36:49.437346605Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"0000000000000000000d","items_count":1,"processing_time_ms":6}
{"time":"2025-08-23T12:36:49.437367612Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"0000000000000000000d","processing_time_ms":6}
{"time":"2025-08-23T12:36:49.439214625Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":1,"offset":4,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:36:49.439366736Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"0000000000000000000e","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:36:49.439450766Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"0000000000000000000e"}
{"time":"2025-08-23T12:36:49.43949638Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:36:49.439507078Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000e","items_count":1}
{"time":"2025-08-23T12:36:49.440624953Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000e","table":"orders"}
{"time":"2025-08-23T12:36:49.442884532Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":195},"msg":"Order saved successfully","order_uid":"0000000000000000000e","total_processing_time_ms":3,"status":"completed"}
{"time":"2025-08-23T12:36:49.442944539Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:36:49.442954946Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:36:49.443257611Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"0000000000000000000e"}
{"time":"2025-08-23T12:36:49.443508923Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755952609443295000}
{"time":"2025-08-23T12:36:49.443702952Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"0000000000000000000e"}
{"time":"2025-08-23T12:36:49.443733296Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"0000000000000000000e"}
{"time":"2025-08-23T12:36:49.443741757Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"0000000000000000000e","items_count":1,"processing_time_ms":4}
{"time":"2025-08-23T12:36:49.443750219Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"0000000000000000000e","processing_time_ms":4}
{"time":"2025-08-23T12:36:49.444460975Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":2,"offset":5,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:36:49.444572724Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"0000000000000000000f","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:36:49.444652475Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"0000000000000000000f"}
{"time":"2025-08-23T12:36:49.444688849Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:36:49.444697407Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000f","items_count":1}
{"time":"2025-08-23T12:36:49.446053563Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000f","table":"orders"}
{"time":"2025-08-23T12:36:49.448485384Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":195},"msg":"Order saved successfully","order_uid":"0000000000000000000f","total_processing_time_ms":3,"status":"completed"}
{"time":"2025-08-23T12:36:49.448538973Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:36:49.448555798Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:36:49.448823159Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"0000000000000000000f"}
{"time":"2025-08-23T12:36:49.448984411Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755952609448853000}
{"time":"2025-08-23T12:36:49.449295634Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"0000000000000000000f"}
{"time":"2025-08-23T12:36:49.449349612Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"0000000000000000000f"}
{"time":"2025-08-23T12:36:49.449359046Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"0000000000000000000f","items_count":1,"processing_time_ms":4}
{"time":"2025-08-23T12:36:49.449367508Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"0000000000000000000f","processing_time_ms":4}
{"time":"2025-08-23T12:36:49.451762371Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":2,"offset":6,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:36:49.45189114Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000010","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:36:49.451963596Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000010"}
{"time":"2025-08-23T12:36:49.451987424Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:36:49.451995886Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000010","items_count":1}
{"time":"2025-08-23T12:36:49.453079429Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000010","table":"orders"}
{"time":"2025-08-23T12:36:49.455468262Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":195},"msg":"Order saved successfully","order_uid":"00000000000000000010","total_processing_time_ms":3,"status":"completed"}
{"time":"2025-08-23T12:36:49.455535273Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:36:49.455544901Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:36:49.455766356Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"00000000000000000010"}
{"time":"2025-08-23T12:36:49.455977891Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755952609455803100}
{"time":"2025-08-23T12:36:49.456100337Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"00000000000000000010"}
{"time":"2025-08-23T12:36:49.456155288Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"00000000000000000010"}
{"time":"2025-08-23T12:36:49.456166375Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"00000000000000000010","items_count":1,"processing_time_ms":4}
{"time":"2025-08-23T12:36:49.456174545Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"00000000000000000010","processing_time_ms":4}
{"time":"2025-08-23T12:36:49.45896048Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":1,"offset":5,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:36:49.459126303Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000011","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:36:49.459205082Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000011"}
{"time":"2025-08-23T12:36:49.459229007Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:36:49.459236398Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000011","items_count":1}
{"time":"2025-08-23T12:36:49.460658786Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000011","table":"orders"}
{"time":"2025-08-23T12:36:49.463280162Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":195},"msg":"Order saved successfully","order_uid":"00000000000000000011","total_processing_time_ms":4,"status":"completed"}
{"time":"2025-08-23T12:36:49.463349117Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:36:49.463359037Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:36:49.463564931Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"00000000000000000011"}
{"time":"2025-08-23T12:36:49.463736007Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755952609463588000}
{"time":"2025-08-23T12:36:49.463928284Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"00000000000000000011"}
{"time":"2025-08-23T12:36:49.463949778Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"00000000000000000011"}
{"time":"2025-08-23T12:36:49.463958239Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"00000000000000000011","items_count":1,"processing_time_ms":4}
{"time":"2025-08-23T12:36:49.463966895Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"00000000000000000011","processing_time_ms":5}
{"time":"2025-08-23T12:36:49.466151877Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":4,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:36:49.466334818Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000012","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:36:49.46645746Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000012"}
{"time":"2025-08-23T12:36:49.466485373Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:36:49.466494418Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000012","items_count":1}
{"time":"2025-08-23T12:36:49.467675705Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000012","table":"orders"}
{"time":"2025-08-23T12:36:49.470453956Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":195},"msg":"Order saved successfully","order_uid":"00000000000000000012","total_processing_time_ms":3,"status":"completed"}
{"time":"2025-08-23T12:36:49.470541974Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:36:49.470553353Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:36:49.470823339Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"00000000000000000012"}
{"time":"2025-08-23T12:36:49.471565996Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755952609470914600}
{"time":"2025-08-23T12:36:49.472408244Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"00000000000000000012"}
{"time":"2025-08-23T12:36:49.472492177Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"00000000000000000012"}
{"time":"2025-08-23T12:36:49.472523494Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"00000000000000000012","items_count":1,"processing_time_ms":6}
{"time":"2025-08-23T12:36:49.472539541Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"00000000000000000012","processing_time_ms":6}
{"time":"2025-08-23T12:36:49.474286866Z","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":2,"offset":7,"consumer":1,"message_size":846}
{"time":"2025-08-23T12:36:49.474436253Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000013","customer_id":"test","total_amount":1817}
{"time":"2025-08-23T12:36:49.474560742Z","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000013"}
{"time":"2025-08-23T12:36:49.474587196Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":66},"msg":"saving order to database"}
{"time":"2025-08-23T12:36:49.474601104Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000013","items_count":1}
{"time":"2025-08-23T12:36:49.475544013Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000013","table":"orders"}
{"time":"2025-08-23T12:36:49.479558113Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/go/internal/repository/postgres/order.go","line":195},"msg":"Order saved successfully","order_uid":"00000000000000000013","total_processing_time_ms":4,"status":"completed"}
{"time":"2025-08-23T12:36:49.479710029Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":74},"msg":"order saved to database, updating cache"}
{"time":"2025-08-23T12:36:49.47980787Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":68},"msg":"starting to set order in cache"}
{"time":"2025-08-23T12:36:49.480046928Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":80},"msg":"order data stored in Redis","orderUID":"00000000000000000013"}
{"time":"2025-08-23T12:36:49.480150702Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":91},"msg":"order added to recent_orders sorted set","timestamp":1755952609480083200}
{"time":"2025-08-23T12:36:49.480218976Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).SaveOrder","file":"/go/internal/repository/redisCache/redis.go","line":97},"msg":"order successfully cached","orderUID":"00000000000000000013"}
{"time":"2025-08-23T12:36:49.480229577Z","level":"INFO","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).SaveOrder","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":81},"msg":"order saved successfully","orderUID":"00000000000000000013"}
{"time":"2025-08-23T12:36:49.480235802Z","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/go/internal/usecase/order.go","line":54},"msg":"Order business processing completed","order_uid":"00000000000000000013","items_count":1,"processing_time_ms":5}
{"time":"2025-08-23T12:36:49.480244166Z","level":"INFO","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/go/internal/delivery/kafka/kafkaHandler/handler.go","line":65},"msg":"Message processing completed","status":"success","order_uid":"00000000000000000013","processing_time_ms":5}
