{"time":"2025-08-22T14:56:07.567873213+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/home/lucilaga/wb_l0/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T14:56:18.306305582+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/home/lucilaga/wb_l0/internal/repository/redisCache/redis.go","line":35},"msg":"Redis connection failed","error":"dial tcp: lookup redis: i/o timeout","host":"redis:6379"}
{"time":"2025-08-22T14:56:18.389728081+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T14:56:18.391348244+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T14:56:18.443232732+03:00","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":54}
{"time":"2025-08-22T14:56:18.443318159+03:00","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T14:59:10.308696699+03:00","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T14:59:10.309181269+03:00","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T14:59:10.31164761+03:00","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T15:00:18.34605191+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/home/lucilaga/wb_l0/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T15:40:35.663219381+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/home/lucilaga/wb_l0/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T15:40:45.670962414+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/home/lucilaga/wb_l0/internal/repository/redisCache/redis.go","line":35},"msg":"Redis connection failed","error":"dial tcp: lookup redis: i/o timeout","host":"redis:6379"}
{"time":"2025-08-22T15:40:45.699950101+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T15:40:45.700364183+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T15:40:45.712959284+03:00","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":13}
{"time":"2025-08-22T15:40:45.713060991+03:00","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T15:41:01.833357384+03:00","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T15:41:01.833806165+03:00","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T15:41:01.834085925+03:00","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T15:41:24.876909619+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/home/lucilaga/wb_l0/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T15:41:35.975719407+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/home/lucilaga/wb_l0/internal/repository/redisCache/redis.go","line":35},"msg":"Redis connection failed","error":"dial tcp: lookup redis: i/o timeout","host":"redis:6379"}
{"time":"2025-08-22T15:41:36.007393192+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T15:41:36.008041835+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T15:41:36.018544181+03:00","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":12}
{"time":"2025-08-22T15:41:36.018631422+03:00","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T15:46:45.480607082+03:00","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T15:46:45.48104273+03:00","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T15:46:45.481146934+03:00","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T15:46:53.017830785+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/home/lucilaga/wb_l0/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T15:47:04.244746693+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/home/lucilaga/wb_l0/internal/repository/redisCache/redis.go","line":35},"msg":"Redis connection failed","error":"dial tcp: lookup redis: i/o timeout","host":"redis:6379"}
{"time":"2025-08-22T15:47:04.277414856+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T15:47:04.278370068+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T15:47:04.286982511+03:00","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":10}
{"time":"2025-08-22T15:47:04.28706206+03:00","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T15:47:43.573031119+03:00","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T15:47:43.573396278+03:00","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T15:47:43.57443457+03:00","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T15:47:46.716505787+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/home/lucilaga/wb_l0/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T15:47:56.722330138+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/home/lucilaga/wb_l0/internal/repository/redisCache/redis.go","line":35},"msg":"Redis connection failed","error":"dial tcp: lookup redis: i/o timeout","host":"redis:6379"}
{"time":"2025-08-22T15:47:56.754249909+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T15:47:56.755096752+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T15:47:56.761481912+03:00","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":7}
{"time":"2025-08-22T15:47:56.761609618+03:00","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T15:47:59.93685532+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":0,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:47:59.937616066+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000003","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:47:59.938830051+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000003"}
{"time":"2025-08-22T15:47:59.938931011+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000003","items_count":1}
{"time":"2025-08-22T15:47:59.95299286+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000003","table":"orders"}
{"time":"2025-08-22T15:47:59.96311793+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000003","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:47:59.965092845+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":1,"retry_count":3,"order_uid":"00000000000000000003"}
{"time":"2025-08-22T15:48:00.965868531+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000003","items_count":1}
{"time":"2025-08-22T15:48:00.968767998+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000003","table":"orders"}
{"time":"2025-08-22T15:48:00.970950792+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000003","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:48:00.971277882+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":2,"retry_count":3,"order_uid":"00000000000000000003"}
{"time":"2025-08-22T15:48:02.972083836+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000003","items_count":1}
{"time":"2025-08-22T15:48:02.974765671+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000003","table":"orders"}
{"time":"2025-08-22T15:48:02.976626973+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000003","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:48:02.977055799+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":3,"retry_count":3,"order_uid":"00000000000000000003"}
{"time":"2025-08-22T15:48:06.979003392+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000003","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","error_type":"business"}
{"time":"2025-08-22T15:48:06.979150578+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000003","error_type":"transport","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","topic":"Orders","partition":0,"offset":0,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:48:06.979276582+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":1,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:48:06.979346083+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000004","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:48:06.979455465+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000004"}
{"time":"2025-08-22T15:48:06.979490603+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000004","items_count":1}
{"time":"2025-08-22T15:48:06.98262195+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000004","table":"orders"}
{"time":"2025-08-22T15:48:06.984732498+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000004","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:48:06.985232758+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":1,"retry_count":3,"order_uid":"00000000000000000004"}
{"time":"2025-08-22T15:48:07.986020345+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000004","items_count":1}
{"time":"2025-08-22T15:48:07.988813495+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000004","table":"orders"}
{"time":"2025-08-22T15:48:07.990279878+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000004","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:48:07.990627614+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":2,"retry_count":3,"order_uid":"00000000000000000004"}
{"time":"2025-08-22T15:48:11.147708451+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000004","items_count":1}
{"time":"2025-08-22T15:48:11.150710952+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000004","table":"orders"}
{"time":"2025-08-22T15:48:11.152764698+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000004","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:48:11.153571056+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":3,"retry_count":3,"order_uid":"00000000000000000004"}
{"time":"2025-08-22T15:48:15.156355896+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000004","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","error_type":"business"}
{"time":"2025-08-22T15:48:15.156449687+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000004","error_type":"transport","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","topic":"Orders","partition":0,"offset":1,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:48:15.156563452+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":2,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:48:15.156636009+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000009","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:48:15.15681526+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000009"}
{"time":"2025-08-22T15:48:15.156864968+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000009","items_count":1}
{"time":"2025-08-22T15:48:15.159498566+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000009","table":"orders"}
{"time":"2025-08-22T15:48:15.160846774+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000009","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:48:15.161160098+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":1,"retry_count":3,"order_uid":"00000000000000000009"}
{"time":"2025-08-22T15:48:16.162275546+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000009","items_count":1}
{"time":"2025-08-22T15:48:16.164533653+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000009","table":"orders"}
{"time":"2025-08-22T15:48:16.165968777+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000009","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:48:16.166239137+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":2,"retry_count":3,"order_uid":"00000000000000000009"}
{"time":"2025-08-22T15:48:18.166880589+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000009","items_count":1}
{"time":"2025-08-22T15:48:18.168976768+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000009","table":"orders"}
{"time":"2025-08-22T15:48:18.170342944+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000009","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:48:18.170703705+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":3,"retry_count":3,"order_uid":"00000000000000000009"}
{"time":"2025-08-22T15:48:22.173418662+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000009","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","error_type":"business"}
{"time":"2025-08-22T15:48:22.173529042+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000009","error_type":"transport","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","topic":"Orders","partition":0,"offset":2,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:48:22.173636038+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":3,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:48:22.173719342+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"0000000000000000000c","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:48:22.173809512+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"0000000000000000000c"}
{"time":"2025-08-22T15:48:22.173824909+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000c","items_count":1}
{"time":"2025-08-22T15:48:22.176140784+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000c","table":"orders"}
{"time":"2025-08-22T15:48:22.177661704+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"0000000000000000000c","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:48:22.178034228+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":1,"retry_count":3,"order_uid":"0000000000000000000c"}
{"time":"2025-08-22T15:48:23.178578046+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000c","items_count":1}
{"time":"2025-08-22T15:48:23.181265813+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000c","table":"orders"}
{"time":"2025-08-22T15:48:23.182799102+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"0000000000000000000c","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:48:23.183023706+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":2,"retry_count":3,"order_uid":"0000000000000000000c"}
{"time":"2025-08-22T15:48:25.184232587+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000c","items_count":1}
{"time":"2025-08-22T15:48:25.18694039+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000c","table":"orders"}
{"time":"2025-08-22T15:48:25.188499227+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"0000000000000000000c","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:48:25.189031956+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":3,"retry_count":3,"order_uid":"0000000000000000000c"}
{"time":"2025-08-22T15:48:29.192046884+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"0000000000000000000c","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","error_type":"business"}
{"time":"2025-08-22T15:48:29.192173607+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"0000000000000000000c","error_type":"transport","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","topic":"Orders","partition":0,"offset":3,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:48:29.192293398+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":4,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:48:29.192366619+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000010","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:48:29.192427203+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000010"}
{"time":"2025-08-22T15:48:29.19246349+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000010","items_count":1}
{"time":"2025-08-22T15:48:29.195283523+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000010","table":"orders"}
{"time":"2025-08-22T15:48:29.196874988+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000010","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:48:29.19764555+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":1,"retry_count":3,"order_uid":"00000000000000000010"}
{"time":"2025-08-22T15:48:30.1986358+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000010","items_count":1}
{"time":"2025-08-22T15:48:30.201811506+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000010","table":"orders"}
{"time":"2025-08-22T15:48:30.203407059+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000010","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:48:30.203721266+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":2,"retry_count":3,"order_uid":"00000000000000000010"}
{"time":"2025-08-22T15:48:32.204434337+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000010","items_count":1}
{"time":"2025-08-22T15:48:32.207093356+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000010","table":"orders"}
{"time":"2025-08-22T15:48:32.208857347+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000010","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:48:32.209421451+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":3,"retry_count":3,"order_uid":"00000000000000000010"}
{"time":"2025-08-22T15:48:36.212457922+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000010","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","error_type":"business"}
{"time":"2025-08-22T15:48:36.212567648+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000010","error_type":"transport","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","topic":"Orders","partition":0,"offset":4,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:48:36.212671756+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":1,"offset":0,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:48:36.212788532+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000001","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:48:36.212907899+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000001"}
{"time":"2025-08-22T15:48:36.212940463+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000001","items_count":1}
{"time":"2025-08-22T15:48:36.215539276+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000001","table":"orders"}
{"time":"2025-08-22T15:48:36.217024593+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000001","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:48:36.217390719+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":1,"retry_count":3,"order_uid":"00000000000000000001"}
{"time":"2025-08-22T15:48:37.218482586+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000001","items_count":1}
{"time":"2025-08-22T15:48:37.220678088+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000001","table":"orders"}
{"time":"2025-08-22T15:48:37.222321266+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000001","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:48:37.222932089+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":2,"retry_count":3,"order_uid":"00000000000000000001"}
{"time":"2025-08-22T15:48:39.22400677+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000001","items_count":1}
{"time":"2025-08-22T15:48:39.226467988+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000001","table":"orders"}
{"time":"2025-08-22T15:48:39.227999141+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000001","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:48:39.228322124+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":3,"retry_count":3,"order_uid":"00000000000000000001"}
{"time":"2025-08-22T15:48:40.562148886+03:00","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T15:48:40.562478317+03:00","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T15:48:40.564112359+03:00","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T15:49:58.379401306+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/home/lucilaga/wb_l0/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T15:50:08.381997982+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/home/lucilaga/wb_l0/internal/repository/redisCache/redis.go","line":35},"msg":"Redis connection failed","error":"dial tcp: lookup redis: i/o timeout","host":"redis:6379"}
{"time":"2025-08-22T15:50:08.419172157+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T15:50:08.419870318+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T15:50:08.425170239+03:00","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":6}
{"time":"2025-08-22T15:50:08.425251842+03:00","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T15:50:11.591747781+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":0,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:50:11.592549187+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000003","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:50:11.593578731+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000003"}
{"time":"2025-08-22T15:50:11.593626114+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000003","items_count":1}
{"time":"2025-08-22T15:50:11.59849863+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000003","table":"orders"}
{"time":"2025-08-22T15:50:11.601248805+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000003","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:50:11.601560188+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":1,"retry_count":3,"order_uid":"00000000000000000003"}
{"time":"2025-08-22T15:50:12.601676479+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000003","items_count":1}
{"time":"2025-08-22T15:50:12.604722079+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000003","table":"orders"}
{"time":"2025-08-22T15:50:12.606425276+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000003","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:50:12.60690681+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":2,"retry_count":3,"order_uid":"00000000000000000003"}
{"time":"2025-08-22T15:50:14.608214777+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000003","items_count":1}
{"time":"2025-08-22T15:50:14.614496296+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000003","table":"orders"}
{"time":"2025-08-22T15:50:14.617297981+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000003","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:50:14.617730639+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":3,"retry_count":3,"order_uid":"00000000000000000003"}
{"time":"2025-08-22T15:50:18.620462658+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000003","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","error_type":"business"}
{"time":"2025-08-22T15:50:18.620631622+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000003","error_type":"transport","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","topic":"Orders","partition":0,"offset":0,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:50:18.620774338+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":1,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:50:18.620846379+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000004","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:50:18.620952208+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000004"}
{"time":"2025-08-22T15:50:18.62097143+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000004","items_count":1}
{"time":"2025-08-22T15:50:18.623552947+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000004","table":"orders"}
{"time":"2025-08-22T15:50:18.625217357+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000004","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:50:18.625521422+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":1,"retry_count":3,"order_uid":"00000000000000000004"}
{"time":"2025-08-22T15:50:19.625669137+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000004","items_count":1}
{"time":"2025-08-22T15:50:19.629276575+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000004","table":"orders"}
{"time":"2025-08-22T15:50:19.631205339+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000004","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:50:19.631667857+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":2,"retry_count":3,"order_uid":"00000000000000000004"}
{"time":"2025-08-22T15:50:21.631862492+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000004","items_count":1}
{"time":"2025-08-22T15:50:21.634415944+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000004","table":"orders"}
{"time":"2025-08-22T15:50:21.636318409+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000004","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:50:21.636758651+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":3,"retry_count":3,"order_uid":"00000000000000000004"}
{"time":"2025-08-22T15:50:26.957605423+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000004","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","error_type":"business"}
{"time":"2025-08-22T15:50:26.957790229+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000004","error_type":"transport","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","topic":"Orders","partition":0,"offset":1,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:50:26.957883926+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":2,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:50:26.957999292+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000009","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:50:26.958099989+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000009"}
{"time":"2025-08-22T15:50:26.958140222+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000009","items_count":1}
{"time":"2025-08-22T15:50:26.96084546+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000009","table":"orders"}
{"time":"2025-08-22T15:50:26.962358802+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000009","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:50:26.962847065+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":1,"retry_count":3,"order_uid":"00000000000000000009"}
{"time":"2025-08-22T15:50:27.963013584+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000009","items_count":1}
{"time":"2025-08-22T15:50:27.965357661+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000009","table":"orders"}
{"time":"2025-08-22T15:50:27.966758035+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000009","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:50:27.967145672+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":2,"retry_count":3,"order_uid":"00000000000000000009"}
{"time":"2025-08-22T15:50:29.967369827+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000009","items_count":1}
{"time":"2025-08-22T15:50:29.969450469+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000009","table":"orders"}
{"time":"2025-08-22T15:50:29.970880882+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000009","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:50:29.971233652+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":3,"retry_count":3,"order_uid":"00000000000000000009"}
{"time":"2025-08-22T15:50:33.972224036+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000009","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","error_type":"business"}
{"time":"2025-08-22T15:50:33.972364346+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000009","error_type":"transport","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","topic":"Orders","partition":0,"offset":2,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:50:33.972429768+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":3,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:50:33.97250978+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"0000000000000000000c","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:50:33.972553098+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"0000000000000000000c"}
{"time":"2025-08-22T15:50:33.972563453+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000c","items_count":1}
{"time":"2025-08-22T15:50:33.97501038+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000c","table":"orders"}
{"time":"2025-08-22T15:50:33.976248127+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"0000000000000000000c","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:50:33.97663384+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":1,"retry_count":3,"order_uid":"0000000000000000000c"}
{"time":"2025-08-22T15:50:34.977020111+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000c","items_count":1}
{"time":"2025-08-22T15:50:34.979675188+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000c","table":"orders"}
{"time":"2025-08-22T15:50:34.981012678+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"0000000000000000000c","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:50:34.981272652+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":2,"retry_count":3,"order_uid":"0000000000000000000c"}
{"time":"2025-08-22T15:50:36.982202779+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000c","items_count":1}
{"time":"2025-08-22T15:50:36.984762342+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000c","table":"orders"}
{"time":"2025-08-22T15:50:36.986357631+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"0000000000000000000c","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:50:36.987004893+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":3,"retry_count":3,"order_uid":"0000000000000000000c"}
{"time":"2025-08-22T15:50:40.98822212+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"0000000000000000000c","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","error_type":"business"}
{"time":"2025-08-22T15:50:40.988321027+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"0000000000000000000c","error_type":"transport","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","topic":"Orders","partition":0,"offset":3,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:50:40.988402765+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":4,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:50:40.988467694+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000010","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:50:40.988566782+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000010"}
{"time":"2025-08-22T15:50:40.988586908+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000010","items_count":1}
{"time":"2025-08-22T15:50:40.99109794+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000010","table":"orders"}
{"time":"2025-08-22T15:50:40.992702741+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000010","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:50:40.992978428+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":1,"retry_count":3,"order_uid":"00000000000000000010"}
{"time":"2025-08-22T15:50:41.994167398+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000010","items_count":1}
{"time":"2025-08-22T15:50:41.997187581+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000010","table":"orders"}
{"time":"2025-08-22T15:50:41.999209172+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000010","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:50:41.99951914+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":2,"retry_count":3,"order_uid":"00000000000000000010"}
{"time":"2025-08-22T15:50:44.000405071+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000010","items_count":1}
{"time":"2025-08-22T15:50:44.003538307+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000010","table":"orders"}
{"time":"2025-08-22T15:50:44.005280777+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":117},"msg":"Failed to insert payment","order_uid":"00000000000000000010","error":"ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","table":"payment"}
{"time":"2025-08-22T15:50:44.005704659+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","retry":3,"retry_count":3,"order_uid":"00000000000000000010"}
{"time":"2025-08-22T15:50:48.006024425+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000010","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","error_type":"business"}
{"time":"2025-08-22T15:50:48.006131362+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000010","error_type":"transport","error":"failed to insert payment: ERROR: insert or update on table \"payment\" violates foreign key constraint \"payment_transaction_fkey\" (SQLSTATE 23503)","topic":"Orders","partition":0,"offset":4,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:50:48.006226011+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":5,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:50:48.006323481+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000015","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:50:48.006400653+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000015"}
{"time":"2025-08-22T15:50:48.006412732+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000015","items_count":1}
{"time":"2025-08-22T15:50:48.008712145+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000015","table":"orders"}
{"time":"2025-08-22T15:50:48.016827587+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000015","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:50:48.017800245+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"00000000000000000015"}
{"time":"2025-08-22T15:50:49.018740225+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000015","items_count":1}
{"time":"2025-08-22T15:50:49.021337054+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000015","table":"orders"}
{"time":"2025-08-22T15:50:49.024062349+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000015","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:50:49.0246083+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"00000000000000000015"}
{"time":"2025-08-22T15:50:51.025427744+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000015","items_count":1}
{"time":"2025-08-22T15:50:51.028733612+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000015","table":"orders"}
{"time":"2025-08-22T15:50:51.031920539+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000015","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:50:51.032260064+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"00000000000000000015"}
{"time":"2025-08-22T15:50:55.035092489+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000015","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:50:55.035186868+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000015","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":0,"offset":5,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:50:55.035325212+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":6,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:50:55.035396357+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000017","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:50:55.035480207+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000017"}
{"time":"2025-08-22T15:50:55.035496013+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000017","items_count":1}
{"time":"2025-08-22T15:50:55.038609743+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000017","table":"orders"}
{"time":"2025-08-22T15:50:55.041910604+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000017","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:50:55.042433645+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"00000000000000000017"}
{"time":"2025-08-22T15:50:56.042603869+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000017","items_count":1}
{"time":"2025-08-22T15:50:56.045512118+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000017","table":"orders"}
{"time":"2025-08-22T15:50:56.048032876+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000017","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:50:56.048502311+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"00000000000000000017"}
{"time":"2025-08-22T15:50:59.395181087+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000017","items_count":1}
{"time":"2025-08-22T15:50:59.398054652+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000017","table":"orders"}
{"time":"2025-08-22T15:50:59.401108651+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000017","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:50:59.401666053+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"00000000000000000017"}
{"time":"2025-08-22T15:51:03.402936204+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000017","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:51:03.403090115+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000017","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":0,"offset":6,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:51:03.403178252+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":7,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:51:03.403245551+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"0000000000000000001b","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:51:03.403301835+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"0000000000000000001b"}
{"time":"2025-08-22T15:51:03.403337046+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000001b","items_count":1}
{"time":"2025-08-22T15:51:03.406489373+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000001b","table":"orders"}
{"time":"2025-08-22T15:51:03.409839121+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000001b","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:51:03.410096116+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"0000000000000000001b"}
{"time":"2025-08-22T15:51:04.410736838+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000001b","items_count":1}
{"time":"2025-08-22T15:51:04.413421883+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000001b","table":"orders"}
{"time":"2025-08-22T15:51:04.416519709+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000001b","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:51:04.416952841+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"0000000000000000001b"}
{"time":"2025-08-22T15:51:06.417709993+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000001b","items_count":1}
{"time":"2025-08-22T15:51:06.420388896+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000001b","table":"orders"}
{"time":"2025-08-22T15:51:06.423606194+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000001b","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:51:06.42413324+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"0000000000000000001b"}
{"time":"2025-08-22T15:51:10.425700825+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"0000000000000000001b","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:51:10.425803492+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"0000000000000000001b","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":0,"offset":7,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:51:10.425881489+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":8,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:51:10.425956109+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"0000000000000000001c","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:51:10.42606871+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"0000000000000000001c"}
{"time":"2025-08-22T15:51:10.426116433+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000001c","items_count":1}
{"time":"2025-08-22T15:51:10.429852239+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000001c","table":"orders"}
{"time":"2025-08-22T15:51:10.432006864+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000001c","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:51:10.432358323+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"0000000000000000001c"}
{"time":"2025-08-22T15:51:11.433394228+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000001c","items_count":1}
{"time":"2025-08-22T15:51:11.437018647+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000001c","table":"orders"}
{"time":"2025-08-22T15:51:11.439905596+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000001c","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:51:11.440228364+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"0000000000000000001c"}
{"time":"2025-08-22T15:51:13.440777574+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000001c","items_count":1}
{"time":"2025-08-22T15:51:13.443460527+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000001c","table":"orders"}
{"time":"2025-08-22T15:51:13.445680525+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000001c","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:51:13.446047656+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"0000000000000000001c"}
{"time":"2025-08-22T15:51:17.446360688+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"0000000000000000001c","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:51:17.446466707+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"0000000000000000001c","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":0,"offset":8,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:51:17.446547655+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":9,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:51:17.446612692+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"0000000000000000001f","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:51:17.446666352+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"0000000000000000001f"}
{"time":"2025-08-22T15:51:17.446678719+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000001f","items_count":1}
{"time":"2025-08-22T15:51:17.450799798+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000001f","table":"orders"}
{"time":"2025-08-22T15:51:17.453655957+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000001f","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:51:17.454304947+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"0000000000000000001f"}
{"time":"2025-08-22T15:51:18.454982935+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000001f","items_count":1}
{"time":"2025-08-22T15:51:18.460174836+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000001f","table":"orders"}
{"time":"2025-08-22T15:51:18.463159629+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000001f","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:51:18.463596153+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"0000000000000000001f"}
{"time":"2025-08-22T15:51:20.464589661+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000001f","items_count":1}
{"time":"2025-08-22T15:51:20.468402965+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000001f","table":"orders"}
{"time":"2025-08-22T15:51:20.471368394+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000001f","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:51:20.471864876+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"0000000000000000001f"}
{"time":"2025-08-22T15:51:22.560285316+03:00","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T15:51:22.560954761+03:00","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T15:51:22.562141229+03:00","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T15:51:48.011255792+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/home/lucilaga/wb_l0/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T15:51:58.017482207+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/home/lucilaga/wb_l0/internal/repository/redisCache/redis.go","line":35},"msg":"Redis connection failed","error":"dial tcp: lookup redis: i/o timeout","host":"redis:6379"}
{"time":"2025-08-22T15:51:58.048949649+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T15:51:58.049566411+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T15:51:58.055497988+03:00","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":6}
{"time":"2025-08-22T15:51:58.055580914+03:00","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T15:52:43.162017717+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":15,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:52:43.163598476+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000001","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:52:43.165615962+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000001"}
{"time":"2025-08-22T15:52:43.165727736+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000001","items_count":1}
{"time":"2025-08-22T15:52:43.175745791+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000001","table":"orders"}
{"time":"2025-08-22T15:52:43.185682325+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000001","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:52:43.187261939+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"00000000000000000001"}
{"time":"2025-08-22T15:52:44.187892838+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000001","items_count":1}
{"time":"2025-08-22T15:52:44.193702099+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000001","table":"orders"}
{"time":"2025-08-22T15:52:44.1998759+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000001","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:52:44.200441088+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"00000000000000000001"}
{"time":"2025-08-22T15:52:46.201483863+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000001","items_count":1}
{"time":"2025-08-22T15:52:46.20516953+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000001","table":"orders"}
{"time":"2025-08-22T15:52:46.2092973+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000001","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:52:46.210281341+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"00000000000000000001"}
{"time":"2025-08-22T15:52:50.210682166+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000001","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:52:50.210787739+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000001","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":0,"offset":15,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:52:50.210927945+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":16,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:52:50.210991848+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000002","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:52:50.211093055+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000002"}
{"time":"2025-08-22T15:52:50.211126776+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000002","items_count":1}
{"time":"2025-08-22T15:52:50.214416897+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000002","table":"orders"}
{"time":"2025-08-22T15:52:50.217363716+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000002","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:52:50.217769498+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"00000000000000000002"}
{"time":"2025-08-22T15:52:51.217992086+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000002","items_count":1}
{"time":"2025-08-22T15:52:51.221133118+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000002","table":"orders"}
{"time":"2025-08-22T15:52:51.224502167+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000002","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:52:51.225038322+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"00000000000000000002"}
{"time":"2025-08-22T15:52:53.225424654+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000002","items_count":1}
{"time":"2025-08-22T15:52:53.228382207+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000002","table":"orders"}
{"time":"2025-08-22T15:52:53.231219804+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000002","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:52:53.231571263+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"00000000000000000002"}
{"time":"2025-08-22T15:52:57.233586783+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000002","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:52:57.233759661+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000002","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":0,"offset":16,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:52:57.23390102+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":17,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:52:57.234094343+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000003","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:52:57.234202414+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000003"}
{"time":"2025-08-22T15:52:57.234228964+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000003","items_count":1}
{"time":"2025-08-22T15:52:57.237426487+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000003","table":"orders"}
{"time":"2025-08-22T15:52:57.240101139+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000003","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:52:57.240419729+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"00000000000000000003"}
{"time":"2025-08-22T15:52:58.240532216+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000003","items_count":1}
{"time":"2025-08-22T15:52:58.24362901+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000003","table":"orders"}
{"time":"2025-08-22T15:52:58.246484519+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000003","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:52:58.247188601+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"00000000000000000003"}
{"time":"2025-08-22T15:53:00.248343959+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000003","items_count":1}
{"time":"2025-08-22T15:53:00.251980916+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000003","table":"orders"}
{"time":"2025-08-22T15:53:00.255366237+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000003","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:00.255992069+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"00000000000000000003"}
{"time":"2025-08-22T15:53:04.259163481+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000003","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:53:04.259256277+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000003","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":0,"offset":17,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:53:04.259410054+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":1,"offset":10,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:53:04.259499411+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000004","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:53:04.259602299+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000004"}
{"time":"2025-08-22T15:53:04.259636857+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000004","items_count":1}
{"time":"2025-08-22T15:53:04.262041588+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000004","table":"orders"}
{"time":"2025-08-22T15:53:04.26467263+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000004","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:04.265493781+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"00000000000000000004"}
{"time":"2025-08-22T15:53:05.266345791+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000004","items_count":1}
{"time":"2025-08-22T15:53:05.269170808+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000004","table":"orders"}
{"time":"2025-08-22T15:53:05.272661439+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000004","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:05.273319003+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"00000000000000000004"}
{"time":"2025-08-22T15:53:07.273620726+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000004","items_count":1}
{"time":"2025-08-22T15:53:07.276858264+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000004","table":"orders"}
{"time":"2025-08-22T15:53:07.279912239+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000004","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:07.280437801+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"00000000000000000004"}
{"time":"2025-08-22T15:53:11.283526045+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000004","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:53:11.283640054+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000004","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":1,"offset":10,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:53:11.283763809+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":2,"offset":13,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:53:11.283856702+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000005","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:53:11.283957426+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000005"}
{"time":"2025-08-22T15:53:11.284000036+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000005","items_count":1}
{"time":"2025-08-22T15:53:11.286749348+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000005","table":"orders"}
{"time":"2025-08-22T15:53:11.289483997+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000005","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:11.289916189+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"00000000000000000005"}
{"time":"2025-08-22T15:53:13.614640941+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000005","items_count":1}
{"time":"2025-08-22T15:53:13.618022257+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000005","table":"orders"}
{"time":"2025-08-22T15:53:13.62138154+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000005","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:13.621843306+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"00000000000000000005"}
{"time":"2025-08-22T15:53:15.622956498+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000005","items_count":1}
{"time":"2025-08-22T15:53:15.626142324+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000005","table":"orders"}
{"time":"2025-08-22T15:53:15.628374831+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000005","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:15.628641362+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"00000000000000000005"}
{"time":"2025-08-22T15:53:19.628864035+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000005","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:53:19.629005338+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000005","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":2,"offset":13,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:53:19.629104624+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":1,"offset":11,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:53:19.629265154+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000006","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:53:19.629405959+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000006"}
{"time":"2025-08-22T15:53:19.62947417+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000006","items_count":1}
{"time":"2025-08-22T15:53:19.633205762+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000006","table":"orders"}
{"time":"2025-08-22T15:53:19.637209401+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000006","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:19.637799104+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"00000000000000000006"}
{"time":"2025-08-22T15:53:20.638855768+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000006","items_count":1}
{"time":"2025-08-22T15:53:20.643570776+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000006","table":"orders"}
{"time":"2025-08-22T15:53:20.648552258+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000006","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:20.649654539+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"00000000000000000006"}
{"time":"2025-08-22T15:53:22.650777297+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000006","items_count":1}
{"time":"2025-08-22T15:53:22.654662413+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000006","table":"orders"}
{"time":"2025-08-22T15:53:22.658228608+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000006","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:22.658636284+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"00000000000000000006"}
{"time":"2025-08-22T15:53:26.661834764+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000006","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:53:26.661934535+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000006","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":1,"offset":11,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:53:26.662018763+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":18,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:53:26.662077458+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000007","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:53:26.662130055+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000007"}
{"time":"2025-08-22T15:53:26.662141947+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000007","items_count":1}
{"time":"2025-08-22T15:53:26.664727174+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000007","table":"orders"}
{"time":"2025-08-22T15:53:26.667100474+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000007","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:26.667424103+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"00000000000000000007"}
{"time":"2025-08-22T15:53:27.668540337+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000007","items_count":1}
{"time":"2025-08-22T15:53:27.671551784+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000007","table":"orders"}
{"time":"2025-08-22T15:53:27.674347688+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000007","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:27.674626638+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"00000000000000000007"}
{"time":"2025-08-22T15:53:29.675846961+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000007","items_count":1}
{"time":"2025-08-22T15:53:29.678838705+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000007","table":"orders"}
{"time":"2025-08-22T15:53:29.681881608+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000007","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:29.682984827+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"00000000000000000007"}
{"time":"2025-08-22T15:53:33.685657235+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000007","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:53:33.685794084+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000007","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":0,"offset":18,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:53:33.685957694+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":2,"offset":14,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:53:33.686066187+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000008","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:53:33.686170829+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000008"}
{"time":"2025-08-22T15:53:33.686213868+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000008","items_count":1}
{"time":"2025-08-22T15:53:33.6891194+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000008","table":"orders"}
{"time":"2025-08-22T15:53:33.692053685+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000008","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:33.692452022+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"00000000000000000008"}
{"time":"2025-08-22T15:53:34.693054571+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000008","items_count":1}
{"time":"2025-08-22T15:53:34.696200287+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000008","table":"orders"}
{"time":"2025-08-22T15:53:34.699095459+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000008","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:34.699423053+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"00000000000000000008"}
{"time":"2025-08-22T15:53:36.700322518+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000008","items_count":1}
{"time":"2025-08-22T15:53:36.703664021+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000008","table":"orders"}
{"time":"2025-08-22T15:53:36.706870865+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000008","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:36.707179269+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"00000000000000000008"}
{"time":"2025-08-22T15:53:40.709031417+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000008","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:53:40.70912597+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000008","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":2,"offset":14,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:53:40.709228348+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":19,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:53:40.709281594+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000009","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:53:40.709336193+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000009"}
{"time":"2025-08-22T15:53:40.709348263+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000009","items_count":1}
{"time":"2025-08-22T15:53:40.712618754+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000009","table":"orders"}
{"time":"2025-08-22T15:53:40.715639072+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000009","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:40.716281685+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"00000000000000000009"}
{"time":"2025-08-22T15:53:41.716521596+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000009","items_count":1}
{"time":"2025-08-22T15:53:41.719940119+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000009","table":"orders"}
{"time":"2025-08-22T15:53:41.723209406+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000009","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:41.723739366+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"00000000000000000009"}
{"time":"2025-08-22T15:53:43.724938646+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000009","items_count":1}
{"time":"2025-08-22T15:53:43.72711043+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000009","table":"orders"}
{"time":"2025-08-22T15:53:43.729267295+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000009","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:43.729696096+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"00000000000000000009"}
{"time":"2025-08-22T15:53:48.959345923+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000009","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:53:48.95948343+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000009","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":0,"offset":19,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:53:48.959575189+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":20,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:53:48.959691276+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"0000000000000000000a","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:53:48.959775747+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"0000000000000000000a"}
{"time":"2025-08-22T15:53:48.959824603+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000a","items_count":1}
{"time":"2025-08-22T15:53:48.963397167+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000a","table":"orders"}
{"time":"2025-08-22T15:53:48.967383801+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000000a","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:48.9677682+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"0000000000000000000a"}
{"time":"2025-08-22T15:53:49.967976139+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000a","items_count":1}
{"time":"2025-08-22T15:53:49.97274914+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000a","table":"orders"}
{"time":"2025-08-22T15:53:49.977529362+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000000a","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:49.978102826+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"0000000000000000000a"}
{"time":"2025-08-22T15:53:51.979463992+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000a","items_count":1}
{"time":"2025-08-22T15:53:51.985474975+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000a","table":"orders"}
{"time":"2025-08-22T15:53:51.991090359+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000000a","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:51.99203706+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"0000000000000000000a"}
{"time":"2025-08-22T15:53:55.994454666+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"0000000000000000000a","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:53:55.994560153+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"0000000000000000000a","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":0,"offset":20,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:53:55.994637078+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":21,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:53:55.994713541+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"0000000000000000000b","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:53:55.994772902+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"0000000000000000000b"}
{"time":"2025-08-22T15:53:55.994786032+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000b","items_count":1}
{"time":"2025-08-22T15:53:55.99757173+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000b","table":"orders"}
{"time":"2025-08-22T15:53:56.001238269+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000000b","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:56.001722187+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"0000000000000000000b"}
{"time":"2025-08-22T15:53:57.002430592+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000b","items_count":1}
{"time":"2025-08-22T15:53:57.005494718+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000b","table":"orders"}
{"time":"2025-08-22T15:53:57.008700354+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000000b","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:57.009245936+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"0000000000000000000b"}
{"time":"2025-08-22T15:53:59.009457784+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000b","items_count":1}
{"time":"2025-08-22T15:53:59.012772132+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000b","table":"orders"}
{"time":"2025-08-22T15:53:59.017073146+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000000b","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:53:59.017437748+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"0000000000000000000b"}
{"time":"2025-08-22T15:54:03.017718732+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"0000000000000000000b","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:54:03.017874177+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"0000000000000000000b","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":0,"offset":21,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:54:03.018190998+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":1,"offset":12,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:54:03.018351658+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"0000000000000000000c","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:54:03.018462754+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"0000000000000000000c"}
{"time":"2025-08-22T15:54:03.018481761+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000c","items_count":1}
{"time":"2025-08-22T15:54:03.022176178+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000c","table":"orders"}
{"time":"2025-08-22T15:54:03.028972503+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000000c","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:03.02957025+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"0000000000000000000c"}
{"time":"2025-08-22T15:54:04.030032929+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000c","items_count":1}
{"time":"2025-08-22T15:54:04.033304431+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000c","table":"orders"}
{"time":"2025-08-22T15:54:04.036940898+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000000c","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:04.038207199+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"0000000000000000000c"}
{"time":"2025-08-22T15:54:06.03934626+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000c","items_count":1}
{"time":"2025-08-22T15:54:06.042712448+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000c","table":"orders"}
{"time":"2025-08-22T15:54:06.045906293+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000000c","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:06.046589152+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"0000000000000000000c"}
{"time":"2025-08-22T15:54:10.047914856+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"0000000000000000000c","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:54:10.048066615+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"0000000000000000000c","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":1,"offset":12,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:54:10.048197932+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":22,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:54:10.048282054+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"0000000000000000000d","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:54:10.04835847+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"0000000000000000000d"}
{"time":"2025-08-22T15:54:10.048394426+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000d","items_count":1}
{"time":"2025-08-22T15:54:10.051095884+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000d","table":"orders"}
{"time":"2025-08-22T15:54:10.054321482+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000000d","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:10.054791333+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"0000000000000000000d"}
{"time":"2025-08-22T15:54:11.055811285+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000d","items_count":1}
{"time":"2025-08-22T15:54:11.058633835+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000d","table":"orders"}
{"time":"2025-08-22T15:54:11.061587358+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000000d","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:11.061945028+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"0000000000000000000d"}
{"time":"2025-08-22T15:54:13.062834319+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000d","items_count":1}
{"time":"2025-08-22T15:54:13.065853167+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000d","table":"orders"}
{"time":"2025-08-22T15:54:13.069661356+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000000d","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:13.070381708+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"0000000000000000000d"}
{"time":"2025-08-22T15:54:17.073410198+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"0000000000000000000d","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:54:17.07351932+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"0000000000000000000d","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":0,"offset":22,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:54:17.07364821+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":2,"offset":15,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:54:17.073720032+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"0000000000000000000e","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:54:17.073777499+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"0000000000000000000e"}
{"time":"2025-08-22T15:54:17.073790229+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000e","items_count":1}
{"time":"2025-08-22T15:54:17.076807126+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000e","table":"orders"}
{"time":"2025-08-22T15:54:17.079979738+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000000e","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:17.080429443+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"0000000000000000000e"}
{"time":"2025-08-22T15:54:18.080592361+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000e","items_count":1}
{"time":"2025-08-22T15:54:18.083450246+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000e","table":"orders"}
{"time":"2025-08-22T15:54:18.086648945+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000000e","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:18.087050512+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"0000000000000000000e"}
{"time":"2025-08-22T15:54:21.453804614+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000e","items_count":1}
{"time":"2025-08-22T15:54:21.456236139+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000e","table":"orders"}
{"time":"2025-08-22T15:54:21.459293371+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000000e","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:21.459724524+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"0000000000000000000e"}
{"time":"2025-08-22T15:54:25.460779031+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"0000000000000000000e","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:54:25.460887726+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"0000000000000000000e","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":2,"offset":15,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:54:25.460989163+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":1,"offset":13,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:54:25.461104719+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"0000000000000000000f","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:54:25.461197314+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"0000000000000000000f"}
{"time":"2025-08-22T15:54:25.461212861+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000f","items_count":1}
{"time":"2025-08-22T15:54:25.464015286+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000f","table":"orders"}
{"time":"2025-08-22T15:54:25.467026777+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000000f","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:25.467742213+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"0000000000000000000f"}
{"time":"2025-08-22T15:54:26.468923166+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000f","items_count":1}
{"time":"2025-08-22T15:54:26.472246422+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000f","table":"orders"}
{"time":"2025-08-22T15:54:26.477313483+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000000f","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:26.478101176+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"0000000000000000000f"}
{"time":"2025-08-22T15:54:28.479349906+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"0000000000000000000f","items_count":1}
{"time":"2025-08-22T15:54:28.482849272+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"0000000000000000000f","table":"orders"}
{"time":"2025-08-22T15:54:28.486146107+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"0000000000000000000f","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:28.486645293+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"0000000000000000000f"}
{"time":"2025-08-22T15:54:32.489431014+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"0000000000000000000f","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:54:32.489557354+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"0000000000000000000f","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":1,"offset":13,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:54:32.489732574+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":1,"offset":14,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:54:32.489827089+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000010","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:54:32.489946616+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000010"}
{"time":"2025-08-22T15:54:32.489996144+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000010","items_count":1}
{"time":"2025-08-22T15:54:32.493049171+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000010","table":"orders"}
{"time":"2025-08-22T15:54:32.496860906+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000010","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:32.497500623+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"00000000000000000010"}
{"time":"2025-08-22T15:54:33.497982018+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000010","items_count":1}
{"time":"2025-08-22T15:54:33.501234568+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000010","table":"orders"}
{"time":"2025-08-22T15:54:33.503950083+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000010","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:33.504634969+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"00000000000000000010"}
{"time":"2025-08-22T15:54:35.504842272+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000010","items_count":1}
{"time":"2025-08-22T15:54:35.507512184+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000010","table":"orders"}
{"time":"2025-08-22T15:54:35.510159591+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000010","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:35.510727922+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"00000000000000000010"}
{"time":"2025-08-22T15:54:39.513435414+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000010","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:54:39.513549471+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000010","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":1,"offset":14,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:54:39.513676658+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":1,"offset":15,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:54:39.513754187+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000011","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:54:39.513843307+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000011"}
{"time":"2025-08-22T15:54:39.513860081+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000011","items_count":1}
{"time":"2025-08-22T15:54:39.517027253+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000011","table":"orders"}
{"time":"2025-08-22T15:54:39.52020585+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000011","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:39.520530605+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"00000000000000000011"}
{"time":"2025-08-22T15:54:40.521671361+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000011","items_count":1}
{"time":"2025-08-22T15:54:40.525467899+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000011","table":"orders"}
{"time":"2025-08-22T15:54:40.529188182+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000011","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:40.529556282+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"00000000000000000011"}
{"time":"2025-08-22T15:54:42.530296191+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000011","items_count":1}
{"time":"2025-08-22T15:54:42.533568224+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000011","table":"orders"}
{"time":"2025-08-22T15:54:42.537249601+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000011","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:42.537703517+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"00000000000000000011"}
{"time":"2025-08-22T15:54:46.540437532+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000011","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:54:46.540585374+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000011","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":1,"offset":15,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:54:46.540773718+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":2,"offset":16,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:54:46.540910389+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000012","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:54:46.541065058+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000012"}
{"time":"2025-08-22T15:54:46.541158937+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000012","items_count":1}
{"time":"2025-08-22T15:54:46.545222071+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000012","table":"orders"}
{"time":"2025-08-22T15:54:46.548930649+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000012","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:46.549545104+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"00000000000000000012"}
{"time":"2025-08-22T15:54:47.550448657+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000012","items_count":1}
{"time":"2025-08-22T15:54:47.554759717+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000012","table":"orders"}
{"time":"2025-08-22T15:54:47.560394713+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000012","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:47.561525228+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"00000000000000000012"}
{"time":"2025-08-22T15:54:49.562641884+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000012","items_count":1}
{"time":"2025-08-22T15:54:49.566815862+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000012","table":"orders"}
{"time":"2025-08-22T15:54:49.571473937+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000012","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:49.572084133+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"00000000000000000012"}
{"time":"2025-08-22T15:54:54.906663281+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000012","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:54:54.90675736+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000012","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":2,"offset":16,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:54:54.906834367+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":29},"msg":"Kafka message received","topic":"Orders","partition":0,"offset":23,"consumer":1,"message_size":846}
{"time":"2025-08-22T15:54:54.906900908+03:00","level":"INFO","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":30},"msg":"Order creation started","order_uid":"00000000000000000013","customer_id":"test","total_amount":1817}
{"time":"2025-08-22T15:54:54.90695712+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":40},"msg":"Business validation passed","order_uid":"00000000000000000013"}
{"time":"2025-08-22T15:54:54.906971319+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000013","items_count":1}
{"time":"2025-08-22T15:54:54.910177083+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000013","table":"orders"}
{"time":"2025-08-22T15:54:54.913485852+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000013","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:54.913885785+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":1,"retry_count":3,"order_uid":"00000000000000000013"}
{"time":"2025-08-22T15:54:55.914037993+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000013","items_count":1}
{"time":"2025-08-22T15:54:55.917184908+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000013","table":"orders"}
{"time":"2025-08-22T15:54:55.920334885+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000013","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:55.920912185+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":2,"retry_count":3,"order_uid":"00000000000000000013"}
{"time":"2025-08-22T15:54:57.921568724+03:00","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":13},"msg":"Database operation started","operation":"SaveOrder","order_uid":"00000000000000000013","items_count":1}
{"time":"2025-08-22T15:54:57.92445858+03:00","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":73},"msg":"Order inserted successfully","order_uid":"00000000000000000013","table":"orders"}
{"time":"2025-08-22T15:54:57.927492663+03:00","level":"ERROR","source":{"function":"wb_l0/internal/repository/postgres.(*Store).SaveOrder","file":"/home/lucilaga/wb_l0/internal/repository/postgres/order.go","line":158},"msg":"Failed to insert item","order_uid":"00000000000000000013","chrt_id":9934930,"error":"ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","table":"items"}
{"time":"2025-08-22T15:54:57.92778023+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":63},"msg":"Retry for order %s failed: %v","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","retry":3,"retry_count":3,"order_uid":"00000000000000000013"}
{"time":"2025-08-22T15:55:01.930028835+03:00","level":"ERROR","source":{"function":"wb_l0/internal/usecase.(*OrderUsecase).CreateOrder","file":"/home/lucilaga/wb_l0/internal/usecase/order.go","line":75},"msg":"Business processing failed","order_uid":"00000000000000000013","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","error_type":"business"}
{"time":"2025-08-22T15:55:01.930120865+03:00","level":"ERROR","source":{"function":"wb_l0/internal/delivery/kafka/kafkaHandler.(*KafkaHandler).HandleMessage","file":"/home/lucilaga/wb_l0/internal/delivery/kafka/kafkaHandler/handler.go","line":53},"msg":"Failed to create order","order_uid":"00000000000000000013","error_type":"transport","error":"failed to insert/update item 9934930: ERROR: there is no unique or exclusion constraint matching the ON CONFLICT specification (SQLSTATE 42P10)","topic":"Orders","partition":0,"offset":23,"consumer":1,"message_size":846}
{"time":"2025-08-22T16:02:34.25066056+03:00","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T16:02:34.251658196+03:00","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T16:02:34.251748723+03:00","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/home/lucilaga/wb_l0/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T13:25:15.546899696Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":34},"msg":"failed to connect to database"}
{"time":"2025-08-22T14:06:07.342334434Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":34},"msg":"failed to connect to database"}
{"time":"2025-08-22T14:07:06.651346417Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":34},"msg":"failed to connect to database"}
{"time":"2025-08-22T14:15:36.741821938Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":34},"msg":"failed to connect to database"}
{"time":"2025-08-22T14:20:52.48800772Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":34},"msg":"failed to connect to database"}
{"time":"2025-08-22T14:27:14.025137293Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T14:27:14.030714753Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T14:27:14.078086623Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:27:14.080548641Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:27:14.080933303Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:27:14.081777433Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:27:14.082327322Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T14:27:14.082449369Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T14:27:14.197500439Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":115}
{"time":"2025-08-22T14:27:14.197613041Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T14:27:14.198006458Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T14:29:25.547508109Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T14:29:25.548877651Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T14:29:25.549157971Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T14:29:52.676197426Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T14:29:52.688870231Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T14:29:52.70082213Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:29:52.704342687Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:29:52.704454833Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:29:52.704502385Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:29:52.704554048Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T14:29:52.704664166Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T14:29:52.732053096Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":27}
{"time":"2025-08-22T14:29:52.732174855Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T14:29:52.732205677Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T14:31:18.862971624Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T14:31:18.863264303Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T14:31:18.863342147Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T14:31:46.36009449Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":34},"msg":"failed to connect to database"}
{"time":"2025-08-22T14:32:14.878624075Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T14:32:14.880907287Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T14:32:14.885081154Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:32:14.885458973Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:32:14.885505913Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:32:14.885515103Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:32:14.885523604Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T14:32:14.88554274Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T14:32:14.891966703Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":6}
{"time":"2025-08-22T14:32:14.892066678Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T14:32:14.892085518Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T14:34:25.833229483Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T14:34:25.835864712Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T14:34:25.836144493Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T14:34:55.132237267Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T14:34:55.147918763Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T14:34:55.156391154Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:34:55.15807748Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:34:55.158248074Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:34:55.158407956Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:34:55.158799343Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T14:34:55.159139251Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T14:34:55.181237294Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":22}
{"time":"2025-08-22T14:34:55.181589397Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T14:34:55.181711483Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T14:35:29.971489123Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T14:35:29.971995237Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T14:35:29.97207795Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T14:35:30.802864787Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T14:35:30.804904003Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T14:35:30.807087114Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:35:30.807412037Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:35:30.80746967Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:35:30.807481096Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:35:30.807490609Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T14:35:30.807509809Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T14:35:30.811639418Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":4}
{"time":"2025-08-22T14:35:30.811724528Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T14:35:30.811740998Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T14:35:36.235187048Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T14:35:36.23566363Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T14:35:36.238041629Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T14:35:45.198769369Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T14:35:45.202113263Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T14:35:45.204308183Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:35:45.204700447Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:35:45.204757624Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:35:45.204770549Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:35:45.204780829Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T14:35:45.204799718Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T14:35:45.209544481Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":4}
{"time":"2025-08-22T14:35:45.209708039Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T14:35:45.209727105Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T14:36:02.221034959Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T14:36:02.221964841Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T14:36:02.225945201Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T14:37:12.62689861Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T14:37:12.629111801Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T14:37:12.631519338Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:37:12.631867478Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:37:12.6319337Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:37:12.631945165Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:37:12.631954625Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T14:37:12.631989176Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T14:37:12.636883026Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":4}
{"time":"2025-08-22T14:37:12.636964679Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T14:37:12.636978049Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T14:37:15.331594634Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T14:37:15.332080659Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T14:37:15.332716495Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T14:37:17.723730981Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T14:37:17.726734938Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T14:37:17.745688293Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:37:17.74605884Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:37:17.746139372Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:37:17.746169503Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:37:17.746206341Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T14:37:17.746226789Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T14:37:17.750580361Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":4}
{"time":"2025-08-22T14:37:17.750747365Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T14:37:17.750802638Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T14:37:36.795130822Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T14:37:36.795470378Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T14:37:36.796182577Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T14:42:14.839114209Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T14:42:14.845316126Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T14:42:14.864674165Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:42:14.865174191Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:42:14.865239075Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:42:14.865419056Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:42:14.865449774Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T14:42:14.865900635Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T14:42:14.891272995Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":25}
{"time":"2025-08-22T14:42:14.89138645Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T14:42:14.891600162Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T14:43:13.002076014Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T14:43:13.002801132Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T14:43:13.003366169Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T14:43:13.820534217Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T14:43:13.822583183Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T14:43:13.82637338Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:43:13.826815862Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:43:13.826872345Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:43:13.826883144Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:43:13.826891965Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T14:43:13.826909978Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T14:43:13.833686746Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":6}
{"time":"2025-08-22T14:43:13.833769942Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T14:43:13.833784912Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T14:43:34.494166629Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T14:43:34.494499228Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T14:43:34.495111285Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T14:43:50.136393295Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T14:43:50.138394169Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T14:43:50.140565861Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:43:50.140939512Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:43:50.14101816Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:43:50.141031216Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:43:50.141039529Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T14:43:50.141057006Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T14:43:50.145679705Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":4}
{"time":"2025-08-22T14:43:50.145811399Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T14:43:50.145830002Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T14:44:38.830635015Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T14:44:38.831087795Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T14:44:38.831176188Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T14:46:36.068637997Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T14:46:36.073301012Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T14:46:36.076826844Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:46:36.077267469Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:46:36.077361418Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:46:36.077399826Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:46:36.077413081Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T14:46:36.077438718Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T14:46:36.083887581Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":6}
{"time":"2025-08-22T14:46:36.083971569Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T14:46:36.083991826Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T14:52:37.841772101Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T14:52:37.842332952Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T14:52:37.842459473Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T14:54:49.721023744Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T14:54:49.726001407Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T14:54:49.731837201Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:54:49.732332755Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:54:49.732413462Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:54:49.732624314Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T14:54:49.732691401Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T14:54:49.732856617Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T14:54:49.750598712Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":17}
{"time":"2025-08-22T14:54:49.750709738Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T14:54:49.750733277Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T14:58:23.244645585Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T14:58:23.250153002Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T14:58:23.25229008Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T15:07:11.311825711Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T15:07:11.315170408Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T15:07:11.319785759Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T15:07:11.321016763Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T15:07:11.321153497Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T15:07:11.321168455Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T15:07:11.321195559Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T15:07:11.321216764Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T15:07:11.333007632Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":11}
{"time":"2025-08-22T15:07:11.333125288Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T15:07:11.333334035Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T15:09:33.39289214Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T15:09:33.394100501Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T15:09:33.398696537Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T16:27:38.853385776Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T16:27:38.858218602Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T16:27:38.864753111Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:27:38.8653628Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:27:38.865474568Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:27:38.865498106Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:27:38.865700645Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T16:27:38.86579234Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T16:27:38.91793439Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":52}
{"time":"2025-08-22T16:27:38.91802573Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T16:27:38.918047683Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T16:29:11.911386661Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T16:29:11.912127363Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T16:29:11.912409737Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T16:29:13.001035966Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T16:29:13.008632162Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T16:29:13.017544872Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:29:13.022867229Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:29:13.034798403Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:29:13.035871416Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:29:13.035891547Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T16:29:13.035930286Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T16:29:13.102331815Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":66}
{"time":"2025-08-22T16:29:13.102499865Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T16:29:13.102529392Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T16:29:43.952773733Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T16:29:43.957391842Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T16:29:43.963396521Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:29:43.963796821Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:29:43.963875517Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:29:43.96389311Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:29:43.963907097Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T16:29:43.963941989Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T16:29:43.988082767Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":14}
{"time":"2025-08-22T16:29:43.988247144Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T16:29:43.988273149Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T16:47:29.269426253Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T16:47:29.277873725Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T16:47:29.278153661Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T16:48:14.193668606Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T16:48:14.198107232Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T16:48:14.206670004Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:48:14.207370026Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:48:14.20744965Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:48:14.208355258Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:48:14.208378035Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T16:48:14.208537459Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T16:48:14.243883528Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":35}
{"time":"2025-08-22T16:48:14.244030076Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T16:48:14.244056067Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T16:48:15.466023842Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T16:48:15.466436669Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T16:48:15.46738606Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T16:48:16.42903335Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T16:48:16.433044557Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T16:48:16.436999841Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:48:16.43779983Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:48:16.437892645Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:48:16.437947336Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:48:16.43798395Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T16:48:16.438173532Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T16:48:16.448290394Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":10}
{"time":"2025-08-22T16:48:16.448522988Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T16:48:16.448593863Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T16:48:25.461653349Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T16:48:25.462267721Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T16:48:25.462696669Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T16:48:28.363274738Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T16:48:28.366925513Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T16:48:28.370428299Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:48:28.371484896Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:48:28.371555536Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:48:28.371571874Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:48:28.371585061Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T16:48:28.371608529Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T16:48:28.378534465Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":6}
{"time":"2025-08-22T16:48:28.378715121Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T16:48:28.378754755Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T16:50:24.793979586Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T16:50:24.794692215Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T16:50:24.797467604Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T16:50:28.822104923Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T16:50:28.886762866Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T16:50:29.046107796Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:50:29.047413862Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:50:29.047551512Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:50:29.047928397Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T16:50:29.047970328Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T16:50:29.048104699Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T16:50:29.08400167Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":36}
{"time":"2025-08-22T16:50:29.084096675Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T16:50:29.08412194Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T17:13:26.795659155Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T17:13:26.851045116Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T17:13:26.869771397Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T17:13:26.910700404Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T17:13:26.910881198Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T17:13:26.910907721Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T17:13:26.910927163Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T17:13:26.911803099Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T17:13:27.007177099Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":96}
{"time":"2025-08-22T17:13:27.007349332Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T17:13:27.007380621Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T17:13:35.734612927Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T17:13:35.738290067Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T17:13:35.739036232Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T17:15:02.96714229Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T17:15:02.970337258Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/app/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T17:15:02.97458635Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T17:15:02.97512996Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/app/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T17:15:02.97523069Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T17:15:02.975292127Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T17:15:02.975318756Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T17:15:02.975364942Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T17:15:02.985099783Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/app/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":9}
{"time":"2025-08-22T17:15:02.985190799Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/app/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T17:15:02.985215201Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
{"time":"2025-08-22T17:15:12.983177295Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":72},"msg":"Stopping services"}
{"time":"2025-08-22T17:15:12.986620313Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run.func3","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":87},"msg":"failed to stop consumer","!BADKEY":"Local: No offset stored"}
{"time":"2025-08-22T17:15:12.990133157Z","level":"INFO","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/app/internal/app/wbOrderSaver/wbOrderSaver.go","line":100},"msg":"All services correctly stopped"}
{"time":"2025-08-22T17:17:49.735936073Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/go/internal/repository/redisCache/redis.go","line":32},"msg":"attempting to connect to Redis","host":"redis:6379","db":0}
{"time":"2025-08-22T17:17:49.741638916Z","level":"INFO","source":{"function":"wb_l0/internal/repository/redisCache.NewCache","file":"/go/internal/repository/redisCache/redis.go","line":38},"msg":"successfully connected to Redis","host":"redis:6379"}
{"time":"2025-08-22T17:17:49.756487877Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/go/internal/repository/redisCache/redis.go","line":49},"msg":"Getting order from Redis","orderUID":"00000000000000000001"}
{"time":"2025-08-22T17:17:49.758798536Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/redisCache.(*RedisRepo).GetOrderByUID","file":"/go/internal/repository/redisCache/redis.go","line":53},"msg":"Order not found","orderUID":"00000000000000000001"}
{"time":"2025-08-22T17:17:49.759789819Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":37},"msg":"attempting to get order from cache","orderUID":"00000000000000000001"}
{"time":"2025-08-22T17:17:49.761704092Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":46},"msg":"order not found in cache, querying database","orderUID":"00000000000000000001"}
{"time":"2025-08-22T17:17:49.762477492Z","level":"INFO","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/go/internal/repository/postgres/order.go","line":206},"msg":"Database query started","operation":"GetOrderByUID","order_uid":"00000000000000000001","query_type":"read"}
{"time":"2025-08-22T17:17:49.76253247Z","level":"DEBUG","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/go/internal/repository/postgres/order.go","line":231},"msg":"Executing SQL query","order_uid":"00000000000000000001","query":"GetOrder_main","tables":["orders","delivery","payment","delivery_services","payment_providers","currencies"]}
{"time":"2025-08-22T17:17:49.781367491Z","level":"WARN","source":{"function":"wb_l0/internal/repository/postgres.(*Store).GetOrderByUID","file":"/go/internal/repository/postgres/order.go","line":250},"msg":"Order not found","order_uid":"00000000000000000001","error":"not_found","query_time_ms":18}
{"time":"2025-08-22T17:17:49.783594493Z","level":"ERROR","source":{"function":"wb_l0/internal/repository/cachedRepo.(*CachedRepo).GetOrderByUID","file":"/go/internal/repository/cachedRepo/cachedRepo.go","line":50},"msg":"failed to get order from database","error":"record not found"}
{"time":"2025-08-22T17:17:49.783648184Z","level":"ERROR","source":{"function":"wb_l0/internal/app/wbOrderSaver.Run","file":"/go/internal/app/wbOrderSaver/wbOrderSaver.go","line":63},"msg":"not found","error":"record not found"}
